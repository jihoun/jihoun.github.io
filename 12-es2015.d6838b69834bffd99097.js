(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{kanD:function(t,e,n){"use strict";n.r(e),n.d(e,"StaffModule",(function(){return Y}));var i=n("2kYt"),r=n("nIj0"),a=n("PBFl"),o=n("Meci"),s=n("29Wa"),c=n("kAAd"),b=n("bFHC"),l=n("Cd2c"),m=n("R7+U"),u=n("Y2X+"),p=n("sEIs"),f=n("s2Ay"),h=n("xVbo"),d=n("YtkY"),g=n("TLy2"),v=n("EM62"),C=n("AytR"),U=n("vobO");let T=(()=>{class t{constructor(t){this.http=t,this.baseUrl=C.a.baseUrl}getList(){return this.http.get(`${this.baseUrl}/users`)}getOne(t){return this.http.get(`${this.baseUrl}/users/${t}`)}update(t,e){return this.http.put(`${this.baseUrl}/users/${t}`,e)}create(t){return this.http.post(`${this.baseUrl}/users`,t)}}return t.\u0275fac=function(e){return new(e||t)(v.Yb(U.a))},t.\u0275prov=v.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var O=n("kYBX");let k=(()=>{class t{transform(t){return t===O.b.owner?"Owner":t===O.b.manager?"Manager":t===O.b.employee?"Staff":""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=v.Nb({name:"positionToPrint",type:t,pure:!0}),t})();function y(t,e){if(1&t&&(v.Ub(0,"a",6),v.Ub(1,"mat-icon"),v.Bc(2,"phone"),v.Tb(),v.Bc(3),v.Tb()),2&t){const t=v.gc(2);v.mc("href","tel:"+t.person.phone,v.vc),v.Cb(3),v.Cc(t.person.phone)}}function I(t,e){if(1&t&&(v.Ub(0,"a",7),v.Ub(1,"mat-icon"),v.Bc(2,"email"),v.Tb(),v.Bc(3),v.Tb()),2&t){const t=v.gc(2);v.mc("href","mailto:"+t.person.email,v.vc),v.Cb(3),v.Dc(" ",t.person.email,"")}}const B=function(t){return["../../edit",t]};function S(t,e){if(1&t&&(v.Sb(0),v.Ub(1,"h1",1),v.Bc(2),v.Ub(3,"span",2),v.Bc(4),v.hc(5,"positionToPrint"),v.Tb(),v.Tb(),v.Ub(6,"p"),v.Ac(7,y,4,2,"a",3),v.Ac(8,I,4,2,"a",4),v.Tb(),v.Ub(9,"a",5),v.Ub(10,"mat-icon"),v.Bc(11,"edit"),v.Tb(),v.Bc(12),v.hc(13,"translate"),v.Tb(),v.Rb()),2&t){const t=v.gc();v.Cb(2),v.Ec(" ",null==t.person?null:t.person.lastName," ",null==t.person?null:t.person.firstName," "),v.Cb(2),v.Dc("(",v.ic(5,7,null==t.person?null:t.person.position),")"),v.Cb(3),v.mc("ngIf",null==t.person?null:t.person.phone),v.Cb(1),v.mc("ngIf",null==t.person?null:t.person.email),v.Cb(1),v.mc("routerLink",v.oc(11,B,t.person.id)),v.Cb(3),v.Dc(" ",v.ic(13,9,"misc.edit")," ")}}let N=(()=>{class t{constructor(t,e){this.staffService=t,this.activatedRoute=e}ngOnInit(){this.activatedRoute.params.pipe(Object(h.a)(t=>t.uid),Object(d.a)(t=>t.uid),Object(g.a)(t=>this.staffService.getOne(t))).subscribe(t=>this.person=t,t=>console.error(t))}}return t.\u0275fac=function(e){return new(e||t)(v.Ob(T),v.Ob(p.a))},t.\u0275cmp=v.Ib({type:t,selectors:[["app-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-h1"],[1,"mat-caption"],["mat-flat-button","",3,"href",4,"ngIf"],["mat-flat-button","","target","_blank",3,"href",4,"ngIf"],["mat-flat-button","","color","primary",3,"routerLink"],["mat-flat-button","",3,"href"],["mat-flat-button","","target","_blank",3,"href"]],template:function(t,e){1&t&&v.Ac(0,S,14,13,"ng-container",0),2&t&&v.mc("ngIf",e.person)},directives:[i.m,a.a,p.e,b.a],pipes:[k,f.d],styles:[""]}),t})();var P=n("mFH5");function w(t,e){if(1&t&&(v.Ub(0,"mat-option",8),v.Bc(1),v.hc(2,"positionToPrint"),v.Tb()),2&t){const t=e.$implicit;v.mc("value",t),v.Cb(1),v.Cc(v.ic(2,2,t))}}let L=(()=>{class t{constructor(t,e,n,i){this.staffService=t,this.activatedRoute=e,this.fb=n,this.router=i}ngOnInit(){this.form=this.fb.group({firstName:["",[r.n.required]],lastName:["",[r.n.required]],position:[O.b.employee,[r.n.required]],phone:[null,[]],email:[null,[r.n.email]]}),this.activatedRoute.params.pipe(Object(h.a)(t=>t.uid),Object(d.a)(t=>t.uid),Object(g.a)(t=>this.staffService.getOne(t))).subscribe(t=>{this.person=t,this.form.setValue({firstName:t.firstName,lastName:t.lastName,position:t.position,phone:t.phone||null,email:t.email||null})},t=>console.error(t))}get positions(){return[O.b.owner,O.b.manager,O.b.employee]}save(){if(this.form.valid){const t=this.form.value;let e;e=this.person?this.staffService.update(this.person.id,t):this.staffService.create(t),e.subscribe(t=>{this.router.navigate(["/dash/staff/detail",t.id])})}}}return t.\u0275fac=function(e){return new(e||t)(v.Ob(T),v.Ob(p.a),v.Ob(r.b),v.Ob(p.b))},t.\u0275cmp=v.Ib({type:t,selectors:[["app-edit"]],decls:25,vars:6,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","lastName"],["matInput","","formControlName","firstName"],["matInput","","formControlName","phone","type","tel"],["matInput","","formControlName","email","type","email"],["formControlName","position"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(v.Ub(0,"form",0),v.cc("ngSubmit",(function(){return e.save()})),v.Ub(1,"mat-form-field"),v.Ub(2,"mat-label"),v.Bc(3,"Last Name"),v.Tb(),v.Pb(4,"input",1),v.Tb(),v.Ub(5,"mat-form-field"),v.Ub(6,"mat-label"),v.Bc(7,"First Name"),v.Tb(),v.Pb(8,"input",2),v.Tb(),v.Ub(9,"mat-form-field"),v.Ub(10,"mat-label"),v.Bc(11,"Phone"),v.Tb(),v.Pb(12,"input",3),v.Tb(),v.Ub(13,"mat-form-field"),v.Ub(14,"mat-label"),v.Bc(15,"Email"),v.Tb(),v.Pb(16,"input",4),v.Tb(),v.Ub(17,"mat-form-field"),v.Ub(18,"mat-label"),v.Bc(19,"Position"),v.Tb(),v.Ub(20,"mat-select",5),v.Ac(21,w,3,4,"mat-option",6),v.Tb(),v.Tb(),v.Ub(22,"button",7),v.Bc(23),v.hc(24,"translate"),v.Tb(),v.Tb()),2&t&&(v.mc("formGroup",e.form),v.Cb(21),v.mc("ngForOf",e.positions),v.Cb(1),v.mc("disabled",!e.form.valid),v.Cb(1),v.Dc(" ",v.ic(24,4,"misc.save")," "))},directives:[r.o,r.j,r.d,s.c,s.f,l.b,r.a,r.i,r.c,m.a,i.l,a.b,P.l],pipes:[f.d,k],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),t})();var M=n("HOZh");function $(t,e){if(1&t&&v.Pb(0,"img",6),2&t){const t=v.gc().$implicit;v.mc("src",t.pictureUrl,v.vc)}}const _=function(t){return["../detail",t]};function A(t,e){if(1&t&&(v.Ub(0,"mat-grid-tile"),v.Ub(1,"a",3),v.Ub(2,"mat-card",4),v.Ub(3,"mat-card-header"),v.Ac(4,$,1,1,"img",5),v.Ub(5,"mat-card-title"),v.Bc(6),v.Tb(),v.Ub(7,"mat-card-subtitle"),v.Bc(8),v.hc(9,"positionToPrint"),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb()),2&t){const t=e.$implicit;v.Cb(1),v.mc("routerLink",v.oc(7,_,t.id)),v.Cb(3),v.mc("ngIf",t.pictureUrl),v.Cb(2),v.Ec("",t.lastName," ",t.firstName,""),v.Cb(2),v.Cc(v.ic(9,5,t.position))}}const F=function(){return["../new"]};let j=(()=>{class t{constructor(t,e){this.staffService=t,this.breakpointObserver=e}get list$(){return this._list$||(this._list$=this.staffService.getList()),this._list$}ngOnInit(){this.breakpointObserver.observe([M.b.XSmall,M.b.Small,M.b.Medium,M.b.Large,M.b.XLarge]).subscribe(t=>{t.matches&&(t.breakpoints[M.b.XSmall]?this.nbColumns=1:t.breakpoints[M.b.Small]?this.nbColumns=2:t.breakpoints[M.b.Medium]?this.nbColumns=3:t.breakpoints[M.b.Large]?this.nbColumns=4:t.breakpoints[M.b.XLarge]&&(this.nbColumns=5))})}}return t.\u0275fac=function(e){return new(e||t)(v.Ob(T),v.Ob(M.a))},t.\u0275cmp=v.Ib({type:t,selectors:[["app-list"]],decls:6,vars:6,consts:[["mat-icon-button","","matTooltip","Add Staff","aria-label","Add Staff","color","primary",3,"routerLink"],["gutterSize","1.2rem",1,"list",3,"cols"],[4,"ngFor","ngForOf"],[1,"link",3,"routerLink"],[1,"item"],["mat-card-avatar","",3,"src",4,"ngIf"],["mat-card-avatar","",3,"src"]],template:function(t,e){1&t&&(v.Ub(0,"a",0),v.Ub(1,"mat-icon"),v.Bc(2,"person_add"),v.Tb(),v.Tb(),v.Ub(3,"mat-grid-list",1),v.Ac(4,A,10,9,"mat-grid-tile",2),v.hc(5,"async"),v.Tb()),2&t&&(v.mc("routerLink",v.nc(5,F)),v.Cb(3),v.mc("cols",e.nbColumns),v.Cb(1),v.mc("ngForOf",v.ic(5,3,e.list$)))},directives:[a.a,p.e,u.a,b.a,c.a,i.l,c.c,o.a,o.c,i.m,o.f,o.e,o.b],pipes:[i.b,k],styles:[".list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{width:100%}"]}),t})();const R=function(){return["/dash/staff"]},X=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=v.Ib({type:t,selectors:[["app-staff"]],decls:3,vars:2,consts:[["translate","",1,"mat-display-1",3,"routerLink"]],template:function(t,e){1&t&&(v.Ub(0,"h1",0),v.Bc(1,"Staff"),v.Tb(),v.Pb(2,"router-outlet")),2&t&&v.mc("routerLink",v.nc(1,R))},directives:[f.a,p.c,p.g],styles:[""]}),t})(),children:[{path:"list",component:j},{path:"edit/:uid",component:L},{path:"detail/:uid",component:N},{path:"new",component:L},{path:"",redirectTo:"list",pathMatch:"full"}]}];let Y=(()=>{class t{}return t.\u0275mod=v.Mb({type:t}),t.\u0275inj=v.Lb({factory:function(e){return new(e||t)},imports:[[i.c,p.f.forChild(X),c.b,o.d,a.c,s.e,l.c,m.b,r.m,b.b,u.b,f.c.forChild()]]}),t})()}}]);