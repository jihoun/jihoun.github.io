function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{kanD:function(t,e,n){"use strict";n.r(e),n.d(e,"StaffModule",(function(){return x}));var a,i,r=n("2kYt"),o=n("nIj0"),c=n("PBFl"),s=n("Meci"),l=n("29Wa"),u=n("kAAd"),b=n("bFHC"),f=n("Cd2c"),m=n("R7+U"),p=n("Y2X+"),h=n("sEIs"),d=n("s2Ay"),v=n("xVbo"),C=n("YtkY"),g=n("TLy2"),k=n("EM62"),y=n("AytR"),V=n("vobO"),W=((a=function(){function t(e){_classCallCheck(this,t),this.http=e,this.baseUrl=y.a.baseUrl}return _createClass(t,[{key:"getList",value:function(){return this.http.get("".concat(this.baseUrl,"/users"))}},{key:"getOne",value:function(t){return this.http.get("".concat(this.baseUrl,"/users/").concat(t))}},{key:"update",value:function(t,e){return this.http.put("".concat(this.baseUrl,"/users/").concat(t),e)}},{key:"create",value:function(t){return this.http.post("".concat(this.baseUrl,"/users"),t)}}]),t}()).\u0275fac=function(t){return new(t||a)(k.ac(V.b))},a.\u0275prov=k.Mb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),O=n("kYBX"),_=((i=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return t===O.b.owner?"Owner":t===O.b.manager?"Manager":t===O.b.employee?"Staff":""}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275pipe=k.Pb({name:"positionToPrint",type:i,pure:!0}),i);function w(t,e){if(1&t&&(k.Wb(0,"a",6),k.Wb(1,"mat-icon"),k.Gc(2,"phone"),k.Vb(),k.Gc(3),k.Vb()),2&t){var n=k.ic(2);k.oc("href","tel:"+n.person.phone,k.zc),k.Cb(3),k.Hc(n.person.phone)}}function I(t,e){if(1&t&&(k.Wb(0,"a",7),k.Wb(1,"mat-icon"),k.Gc(2,"email"),k.Vb(),k.Gc(3),k.Vb()),2&t){var n=k.ic(2);k.oc("href","mailto:"+n.person.email,k.zc),k.Cb(3),k.Ic(" ",n.person.email,"")}}var G=function(t){return["../../edit",t]};function N(t,e){if(1&t&&(k.Ub(0),k.Wb(1,"h1",1),k.Gc(2),k.Wb(3,"span",2),k.Gc(4),k.jc(5,"positionToPrint"),k.Vb(),k.Vb(),k.Wb(6,"p"),k.Ec(7,w,4,2,"a",3),k.Ec(8,I,4,2,"a",4),k.Vb(),k.Wb(9,"a",5),k.Wb(10,"mat-icon"),k.Gc(11,"edit"),k.Vb(),k.Gc(12),k.jc(13,"translate"),k.Vb(),k.Tb()),2&t){var n=k.ic();k.Cb(2),k.Jc(" ",null==n.person?null:n.person.lastName," ",null==n.person?null:n.person.firstName," "),k.Cb(2),k.Ic("(",k.kc(5,7,null==n.person?null:n.person.position),")"),k.Cb(3),k.oc("ngIf",null==n.person?null:n.person.phone),k.Cb(1),k.oc("ngIf",null==n.person?null:n.person.email),k.Cb(1),k.oc("routerLink",k.qc(11,G,n.person.id)),k.Cb(3),k.Ic(" ",k.kc(13,9,"misc.edit")," ")}}var S,P=((S=function(){function t(e,n){_classCallCheck(this,t),this.staffService=e,this.activatedRoute=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.params.pipe(Object(v.a)((function(t){return t.uid})),Object(C.a)((function(t){return t.uid})),Object(g.a)((function(e){return t.staffService.getOne(e)}))).subscribe((function(e){return t.person=e}),(function(t){return console.error(t)}))}}]),t}()).\u0275fac=function(t){return new(t||S)(k.Qb(W),k.Qb(h.a))},S.\u0275cmp=k.Kb({type:S,selectors:[["app-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-h1"],[1,"mat-caption"],["mat-flat-button","",3,"href",4,"ngIf"],["mat-flat-button","","target","_blank",3,"href",4,"ngIf"],["mat-flat-button","","color","primary",3,"routerLink"],["mat-flat-button","",3,"href"],["mat-flat-button","","target","_blank",3,"href"]],template:function(t,e){1&t&&k.Ec(0,N,14,13,"ng-container",0),2&t&&k.oc("ngIf",e.person)},directives:[r.m,c.a,h.e,b.a],pipes:[_,d.d],styles:[""]}),S),L=n("mFH5");function j(t,e){if(1&t&&(k.Wb(0,"mat-option",8),k.Gc(1),k.jc(2,"positionToPrint"),k.Vb()),2&t){var n=e.$implicit;k.oc("value",n),k.Cb(1),k.Hc(k.kc(2,2,n))}}var M,R=((M=function(){function t(e,n,a,i){_classCallCheck(this,t),this.staffService=e,this.activatedRoute=n,this.fb=a,this.router=i}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.form=this.fb.group({firstName:["",[o.m.required]],lastName:["",[o.m.required]],position:[O.b.employee,[o.m.required]],phone:[null,[o.m.required]],email:[null,[o.m.email]]}),this.activatedRoute.params.pipe(Object(v.a)((function(t){return t.uid})),Object(C.a)((function(t){return t.uid})),Object(g.a)((function(e){return t.staffService.getOne(e)}))).subscribe((function(e){t.person=e,t.form.setValue({firstName:e.firstName,lastName:e.lastName,position:e.position,phone:e.phone||null,email:e.email||null})}),(function(t){return console.error(t)}))}},{key:"save",value:function(){var t=this;if(this.form.valid){var e=this.form.value;(this.person?this.staffService.update(this.person.id,e):this.staffService.create(e)).subscribe((function(e){t.router.navigate(["/dash/staff/detail",e.id])}))}}},{key:"positions",get:function(){return[O.b.owner,O.b.manager,O.b.employee]}}]),t}()).\u0275fac=function(t){return new(t||M)(k.Qb(W),k.Qb(h.a),k.Qb(o.b),k.Qb(h.b))},M.\u0275cmp=k.Kb({type:M,selectors:[["app-edit"]],decls:25,vars:6,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","lastName"],["matInput","","formControlName","firstName"],["matInput","","formControlName","phone","type","tel"],["matInput","","formControlName","email","type","email"],["formControlName","position"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(k.Wb(0,"form",0),k.ec("ngSubmit",(function(){return e.save()})),k.Wb(1,"mat-form-field"),k.Wb(2,"mat-label"),k.Gc(3,"Last Name"),k.Vb(),k.Rb(4,"input",1),k.Vb(),k.Wb(5,"mat-form-field"),k.Wb(6,"mat-label"),k.Gc(7,"First Name"),k.Vb(),k.Rb(8,"input",2),k.Vb(),k.Wb(9,"mat-form-field"),k.Wb(10,"mat-label"),k.Gc(11,"Phone"),k.Vb(),k.Rb(12,"input",3),k.Vb(),k.Wb(13,"mat-form-field"),k.Wb(14,"mat-label"),k.Gc(15,"Email"),k.Vb(),k.Rb(16,"input",4),k.Vb(),k.Wb(17,"mat-form-field"),k.Wb(18,"mat-label"),k.Gc(19,"Position"),k.Vb(),k.Wb(20,"mat-select",5),k.Ec(21,j,3,4,"mat-option",6),k.Vb(),k.Vb(),k.Wb(22,"button",7),k.Gc(23),k.jc(24,"translate"),k.Vb(),k.Vb()),2&t&&(k.oc("formGroup",e.form),k.Cb(21),k.oc("ngForOf",e.positions),k.Cb(1),k.oc("disabled",!e.form.valid),k.Cb(1),k.Ic(" ",k.kc(24,4,"misc.save")," "))},directives:[o.n,o.i,o.d,l.c,l.f,f.b,o.a,o.h,o.c,m.a,r.l,c.b,L.l],pipes:[d.d,_],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),M),E=n("HOZh");function F(t,e){if(1&t&&k.Rb(0,"img",6),2&t){var n=k.ic().$implicit;k.oc("src",n.pictureUrl,k.zc)}}var U=function(t){return["../detail",t]};function T(t,e){if(1&t&&(k.Wb(0,"mat-grid-tile"),k.Wb(1,"a",3),k.Wb(2,"mat-card",4),k.Wb(3,"mat-card-header"),k.Ec(4,F,1,1,"img",5),k.Wb(5,"mat-card-title"),k.Gc(6),k.Vb(),k.Wb(7,"mat-card-subtitle"),k.Gc(8),k.jc(9,"positionToPrint"),k.Vb(),k.Vb(),k.Vb(),k.Vb(),k.Vb()),2&t){var n=e.$implicit;k.Cb(1),k.oc("routerLink",k.qc(7,U,n.id)),k.Cb(3),k.oc("ngIf",n.pictureUrl),k.Cb(2),k.Jc("",n.lastName," ",n.firstName,""),k.Cb(2),k.Hc(k.kc(9,5,n.position))}}var Q,$,q,A=function(){return["../new"]},H=((Q=function(){function t(e,n){_classCallCheck(this,t),this.staffService=e,this.breakpointObserver=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.breakpointObserver.observe([E.b.XSmall,E.b.Small,E.b.Medium,E.b.Large,E.b.XLarge]).subscribe((function(e){e.matches&&(e.breakpoints[E.b.XSmall]?t.nbColumns=1:e.breakpoints[E.b.Small]?t.nbColumns=2:e.breakpoints[E.b.Medium]?t.nbColumns=3:e.breakpoints[E.b.Large]?t.nbColumns=4:e.breakpoints[E.b.XLarge]&&(t.nbColumns=5))}))}},{key:"list$",get:function(){return this._list$||(this._list$=this.staffService.getList()),this._list$}}]),t}()).\u0275fac=function(t){return new(t||Q)(k.Qb(W),k.Qb(E.a))},Q.\u0275cmp=k.Kb({type:Q,selectors:[["app-list"]],decls:6,vars:6,consts:[["mat-icon-button","","matTooltip","Add Staff","aria-label","Add Staff","color","primary",3,"routerLink"],["gutterSize","1.2rem",1,"list",3,"cols"],[4,"ngFor","ngForOf"],[1,"link",3,"routerLink"],[1,"item"],["mat-card-avatar","",3,"src",4,"ngIf"],["mat-card-avatar","",3,"src"]],template:function(t,e){1&t&&(k.Wb(0,"a",0),k.Wb(1,"mat-icon"),k.Gc(2,"person_add"),k.Vb(),k.Vb(),k.Wb(3,"mat-grid-list",1),k.Ec(4,T,10,9,"mat-grid-tile",2),k.jc(5,"async"),k.Vb()),2&t&&(k.oc("routerLink",k.pc(5,A)),k.Cb(3),k.oc("cols",e.nbColumns),k.Cb(1),k.oc("ngForOf",k.kc(5,3,e.list$)))},directives:[c.a,h.e,p.a,b.a,u.a,r.l,u.c,s.a,s.c,r.m,s.f,s.e,s.b],pipes:[r.b,_],styles:[".list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{width:100%}"]}),Q),X=function(){return["/dash/staff"]},Y=[{path:"",component:($=function t(){_classCallCheck(this,t)},$.\u0275fac=function(t){return new(t||$)},$.\u0275cmp=k.Kb({type:$,selectors:[["app-staff"]],decls:3,vars:2,consts:[["translate","",1,"mat-display-1",3,"routerLink"]],template:function(t,e){1&t&&(k.Wb(0,"h1",0),k.Gc(1,"Staff"),k.Vb(),k.Rb(2,"router-outlet")),2&t&&k.oc("routerLink",k.pc(1,X))},directives:[d.a,h.c,h.g],styles:[""]}),$),children:[{path:"list",component:H},{path:"edit/:uid",component:R},{path:"detail/:uid",component:P},{path:"new",component:R},{path:"",redirectTo:"list",pathMatch:"full"}]}],x=((q=function t(){_classCallCheck(this,t)}).\u0275mod=k.Ob({type:q}),q.\u0275inj=k.Nb({factory:function(t){return new(t||q)},imports:[[r.c,h.f.forChild(Y),u.b,s.d,c.c,l.e,f.c,m.b,o.l,b.b,p.b,d.c.forChild()]]}),q)}}]);