function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{kanD:function(t,e,n){"use strict";n.r(e),n.d(e,"StaffModule",(function(){return H}));var i,a,r=n("2kYt"),o=n("nIj0"),c=n("PBFl"),s=n("Meci"),l=n("29Wa"),u=n("kAAd"),b=n("bFHC"),f=n("Cd2c"),m=n("R7+U"),p=n("Y2X+"),h=n("sEIs"),d=n("s2Ay"),v=n("xVbo"),C=n("YtkY"),g=n("TLy2"),k=n("EM62"),y=n("vobO"),T=((i=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getList",value:function(){return this.http.get("/api/users")}},{key:"getOne",value:function(t){return this.http.get("/api/users/".concat(t))}},{key:"update",value:function(t,e){return this.http.put("/api/users/".concat(t),e)}},{key:"create",value:function(t){return this.http.post("/api/users",t)}}]),t}()).\u0275fac=function(t){return new(t||i)(k.Yb(y.a))},i.\u0275prov=k.Kb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),O=n("kYBX"),U=((a=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return t===O.b.owner?"Owner":t===O.b.manager?"Manager":t===O.b.employee?"Staff":""}}]),t}()).\u0275fac=function(t){return new(t||a)},a.\u0275pipe=k.Nb({name:"positionToPrint",type:a,pure:!0}),a);function _(t,e){if(1&t&&(k.Ub(0,"a",6),k.Ub(1,"mat-icon"),k.Ac(2,"phone"),k.Tb(),k.Ac(3),k.Tb()),2&t){var n=k.gc(2);k.mc("href","tel:"+n.person.phone,k.uc),k.Cb(3),k.Bc(n.person.phone)}}function A(t,e){if(1&t&&(k.Ub(0,"a",7),k.Ub(1,"mat-icon"),k.Ac(2,"email"),k.Tb(),k.Ac(3),k.Tb()),2&t){var n=k.gc(2);k.mc("href","mailto:"+n.person.email,k.uc),k.Cb(3),k.Cc(" ",n.person.email,"")}}var P=function(t){return["../../edit",t]};function w(t,e){if(1&t&&(k.Sb(0),k.Ub(1,"h1",1),k.Ac(2),k.Ub(3,"span",2),k.Ac(4),k.hc(5,"positionToPrint"),k.Tb(),k.Tb(),k.Ub(6,"p"),k.zc(7,_,4,2,"a",3),k.zc(8,A,4,2,"a",4),k.Tb(),k.Ub(9,"a",5),k.Ub(10,"mat-icon"),k.Ac(11,"edit"),k.Tb(),k.Ac(12),k.hc(13,"translate"),k.Tb(),k.Rb()),2&t){var n=k.gc();k.Cb(2),k.Dc(" ",null==n.person?null:n.person.lastName," ",null==n.person?null:n.person.firstName," "),k.Cb(2),k.Cc("(",k.ic(5,7,null==n.person?null:n.person.position),")"),k.Cb(3),k.mc("ngIf",null==n.person?null:n.person.phone),k.Cb(1),k.mc("ngIf",null==n.person?null:n.person.email),k.Cb(1),k.mc("routerLink",k.oc(11,P,n.person.id)),k.Cb(3),k.Cc(" ",k.ic(13,9,"misc.edit")," ")}}var I,S=((I=function(){function t(e,n){_classCallCheck(this,t),this.staffService=e,this.activatedRoute=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.params.pipe(Object(v.a)((function(t){return t.uid})),Object(C.a)((function(t){return t.uid})),Object(g.a)((function(e){return t.staffService.getOne(e)}))).subscribe((function(e){return t.person=e}),(function(t){return console.error(t)}))}}]),t}()).\u0275fac=function(t){return new(t||I)(k.Ob(T),k.Ob(h.a))},I.\u0275cmp=k.Ib({type:I,selectors:[["app-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-h1"],[1,"mat-caption"],["mat-flat-button","",3,"href",4,"ngIf"],["mat-flat-button","","target","_blank",3,"href",4,"ngIf"],["mat-flat-button","","color","primary",3,"routerLink"],["mat-flat-button","",3,"href"],["mat-flat-button","","target","_blank",3,"href"]],template:function(t,e){1&t&&k.zc(0,w,14,13,"ng-container",0),2&t&&k.mc("ngIf",e.person)},directives:[r.m,c.a,h.e,b.a],pipes:[U,d.d],styles:[""]}),I),N=n("mFH5");function L(t,e){if(1&t&&(k.Ub(0,"mat-option",8),k.Ac(1),k.hc(2,"positionToPrint"),k.Tb()),2&t){var n=e.$implicit;k.mc("value",n),k.Cb(1),k.Bc(k.ic(2,2,n))}}var M,j=((M=function(){function t(e,n,i,a){_classCallCheck(this,t),this.staffService=e,this.activatedRoute=n,this.fb=i,this.router=a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.form=this.fb.group({firstName:["",[o.n.required]],lastName:["",[o.n.required]],position:[O.b.employee,[o.n.required]],phone:[null,[]],email:[null,[o.n.email]]}),this.activatedRoute.params.pipe(Object(v.a)((function(t){return t.uid})),Object(C.a)((function(t){return t.uid})),Object(g.a)((function(e){return t.staffService.getOne(e)}))).subscribe((function(e){t.person=e,t.form.setValue({firstName:e.firstName,lastName:e.lastName,position:e.position,phone:e.phone||null,email:e.email||null})}),(function(t){return console.error(t)}))}},{key:"save",value:function(){var t=this;if(this.form.valid){var e=this.form.value;(this.person?this.staffService.update(this.person.id,e):this.staffService.create(e)).subscribe((function(e){t.router.navigate(["/dash/staff/detail",e.id])}))}}},{key:"positions",get:function(){return[O.b.owner,O.b.manager,O.b.employee]}}]),t}()).\u0275fac=function(t){return new(t||M)(k.Ob(T),k.Ob(h.a),k.Ob(o.b),k.Ob(h.b))},M.\u0275cmp=k.Ib({type:M,selectors:[["app-edit"]],decls:25,vars:6,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","lastName"],["matInput","","formControlName","firstName"],["matInput","","formControlName","phone","type","tel"],["matInput","","formControlName","email","type","email"],["formControlName","position"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(k.Ub(0,"form",0),k.cc("ngSubmit",(function(){return e.save()})),k.Ub(1,"mat-form-field"),k.Ub(2,"mat-label"),k.Ac(3,"Last Name"),k.Tb(),k.Pb(4,"input",1),k.Tb(),k.Ub(5,"mat-form-field"),k.Ub(6,"mat-label"),k.Ac(7,"First Name"),k.Tb(),k.Pb(8,"input",2),k.Tb(),k.Ub(9,"mat-form-field"),k.Ub(10,"mat-label"),k.Ac(11,"Phone"),k.Tb(),k.Pb(12,"input",3),k.Tb(),k.Ub(13,"mat-form-field"),k.Ub(14,"mat-label"),k.Ac(15,"Email"),k.Tb(),k.Pb(16,"input",4),k.Tb(),k.Ub(17,"mat-form-field"),k.Ub(18,"mat-label"),k.Ac(19,"Position"),k.Tb(),k.Ub(20,"mat-select",5),k.zc(21,L,3,4,"mat-option",6),k.Tb(),k.Tb(),k.Ub(22,"button",7),k.Ac(23),k.hc(24,"translate"),k.Tb(),k.Tb()),2&t&&(k.mc("formGroup",e.form),k.Cb(21),k.mc("ngForOf",e.positions),k.Cb(1),k.mc("disabled",!e.form.valid),k.Cb(1),k.Cc(" ",k.ic(24,4,"misc.save")," "))},directives:[o.o,o.j,o.d,l.b,l.e,f.b,o.a,o.i,o.c,m.a,r.l,c.b,N.l],pipes:[d.d,U],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),M),F=n("HOZh");function $(t,e){if(1&t&&k.Pb(0,"img",6),2&t){var n=k.gc().$implicit;k.mc("src",n.pictureUrl,k.uc)}}var z=function(t){return["../detail",t]};function R(t,e){if(1&t&&(k.Ub(0,"mat-grid-tile"),k.Ub(1,"a",3),k.Ub(2,"mat-card",4),k.Ub(3,"mat-card-header"),k.zc(4,$,1,1,"img",5),k.Ub(5,"mat-card-title"),k.Ac(6),k.Tb(),k.Ub(7,"mat-card-subtitle"),k.Ac(8),k.hc(9,"positionToPrint"),k.Tb(),k.Tb(),k.Tb(),k.Tb(),k.Tb()),2&t){var n=e.$implicit;k.Cb(1),k.mc("routerLink",k.oc(7,z,n.id)),k.Cb(3),k.mc("ngIf",n.pictureUrl),k.Cb(2),k.Dc("",n.lastName," ",n.firstName,""),k.Cb(2),k.Bc(k.ic(9,5,n.position))}}var X,Y,B,x=function(){return["../new"]},E=((X=function(){function t(e,n){_classCallCheck(this,t),this.staffService=e,this.breakpointObserver=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.breakpointObserver.observe([F.b.XSmall,F.b.Small,F.b.Medium,F.b.Large,F.b.XLarge]).subscribe((function(e){e.matches&&(e.breakpoints[F.b.XSmall]?t.nbColumns=1:e.breakpoints[F.b.Small]?t.nbColumns=2:e.breakpoints[F.b.Medium]?t.nbColumns=3:e.breakpoints[F.b.Large]?t.nbColumns=4:e.breakpoints[F.b.XLarge]&&(t.nbColumns=5))}))}},{key:"list$",get:function(){return this._list$||(this._list$=this.staffService.getList()),this._list$}}]),t}()).\u0275fac=function(t){return new(t||X)(k.Ob(T),k.Ob(F.a))},X.\u0275cmp=k.Ib({type:X,selectors:[["app-list"]],decls:6,vars:6,consts:[["mat-icon-button","","matTooltip","Add Staff","aria-label","Add Staff","color","primary",3,"routerLink"],["gutterSize","1.2rem",1,"list",3,"cols"],[4,"ngFor","ngForOf"],[1,"link",3,"routerLink"],[1,"item"],["mat-card-avatar","",3,"src",4,"ngIf"],["mat-card-avatar","",3,"src"]],template:function(t,e){1&t&&(k.Ub(0,"a",0),k.Ub(1,"mat-icon"),k.Ac(2,"person_add"),k.Tb(),k.Tb(),k.Ub(3,"mat-grid-list",1),k.zc(4,R,10,9,"mat-grid-tile",2),k.hc(5,"async"),k.Tb()),2&t&&(k.mc("routerLink",k.nc(5,x)),k.Cb(3),k.mc("cols",e.nbColumns),k.Cb(1),k.mc("ngForOf",k.ic(5,3,e.list$)))},directives:[c.a,h.e,p.a,b.a,u.a,r.l,u.c,s.a,s.c,r.m,s.f,s.e,s.b],pipes:[r.b,U],styles:[".list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{width:100%}"]}),X),q=function(){return["/dash/staff"]},D=[{path:"",component:(Y=function t(){_classCallCheck(this,t)},Y.\u0275fac=function(t){return new(t||Y)},Y.\u0275cmp=k.Ib({type:Y,selectors:[["app-staff"]],decls:3,vars:2,consts:[["translate","",1,"mat-display-1",3,"routerLink"]],template:function(t,e){1&t&&(k.Ub(0,"h1",0),k.Ac(1,"Staff"),k.Tb(),k.Pb(2,"router-outlet")),2&t&&k.mc("routerLink",k.nc(1,q))},directives:[d.a,h.c,h.g],styles:[""]}),Y),children:[{path:"list",component:E},{path:"edit/:uid",component:j},{path:"detail/:uid",component:S},{path:"new",component:j},{path:"",redirectTo:"list",pathMatch:"full"}]}],H=((B=function t(){_classCallCheck(this,t)}).\u0275mod=k.Mb({type:B}),B.\u0275inj=k.Lb({factory:function(t){return new(t||B)},imports:[[r.c,h.f.forChild(D),u.b,s.d,c.c,l.d,f.c,m.b,o.m,b.b,p.b,d.c.forChild()]]}),B)}}]);