function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{kanD:function(t,e,n){"use strict";n.r(e),n.d(e,"StaffModule",(function(){return K}));var r=n("2kYt"),a=n("nIj0"),i=n("PBFl"),o=n("Meci"),c=n("29Wa"),s=n("kAAd"),u=n("bFHC"),f=n("Cd2c"),l=n("R7+U"),p=n("sEIs"),m=n("s2Ay"),b=n("xVbo"),d=n("YtkY"),h=n("TLy2"),v=n("EM62"),g=n("ROBh"),y=n("IdLP"),C="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),k=new Uint8Array(16);function w(){if(!C)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return C(k)}for(var U=[],O=0;O<256;++O)U[O]=(O+256).toString(16).substr(1);var T,N,P=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||w)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var i=0;i<16;++i)e[r+i]=a[i];return e||function(t,e){var n=0;return[U[t[n++]],U[t[n++]],U[t[n++]],U[t[n++]],"-",U[t[n++]],U[t[n++]],"-",U[t[n++]],U[t[n++]],"-",U[t[n++]],U[t[n++]],"-",U[t[n++]],U[t[n++]],U[t[n++]],U[t[n++]],U[t[n++]],U[t[n++]]].join("")}(a)},_=function(t){return t[t.owner=0]="owner",t[t.manager=1]="manager",t[t.employee=2]="employee",t}({}),S=[{id:"1",firstName:"\ubbfc",lastName:"\uae40",pictureUrl:"https://picsum.photos/200/200?random=".concat(P()),position:_.manager},{id:"2",firstName:"\uc11d\ud604",lastName:"\uae40",pictureUrl:"https://picsum.photos/200/200?random=".concat(P()),position:_.owner},{id:"3",firstName:"\uc694\ud55c",lastName:"\ub77c\uc9c0\uc560",pictureUrl:"https://picsum.photos/200/200?random=".concat(P()),position:_.employee},{id:"4",firstName:"Nicolas",lastName:"Lagier",pictureUrl:"https://picsum.photos/200/200?random=".concat(P()),position:_.employee}],I=((N=function(){function t(){_classCallCheck(this,t),this.staff=[].concat(S)}return _createClass(t,[{key:"getList",value:function(){return Object(g.a)(this.staff)}},{key:"getOne",value:function(t){var e=this;return new y.a((function(n){var r=e.staff.find((function(e){return e.id===t}));if(!r)throw new Error("Person ".concat(t," not Found"));n.next(r)}))}},{key:"patchStaff",value:function(t,e){var n=this;return new y.a((function(r){var a=n.staff.findIndex((function(e){return e.id===t}));if(-1===a)throw new Error("No such staff");n.staff[a]=Object.assign(Object.assign({},n.staff[a]),e),r.next(n.staff[a])}))}},{key:"postStaff",value:function(t){var e=this;return new y.a((function(n){t.id=P(),e.staff.push(t),n.next(t)}))}}]),t}()).\u0275fac=function(t){return new(t||N)},N.\u0275prov=v.Kb({token:N,factory:N.\u0275fac,providedIn:"root"}),N),j=((T=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return t===_.owner?"Owner":t===_.manager?"Manager":t===_.employee?"Staff":""}}]),t}()).\u0275fac=function(t){return new(t||T)},T.\u0275pipe=v.Nb({name:"positionToPrint",type:T,pure:!0}),T),L=function(t){return["../../edit",t]};function R(t,e){if(1&t&&(v.Sb(0),v.Ub(1,"h1",1),v.wc(2),v.Ub(3,"span",2),v.wc(4),v.fc(5,"positionToPrint"),v.Tb(),v.Tb(),v.Ub(6,"a",3),v.wc(7,"Edit"),v.Tb(),v.Rb()),2&t){var n=v.ec();v.Cb(2),v.zc(" ",null==n.person?null:n.person.lastName," ",null==n.person?null:n.person.firstName," "),v.Cb(2),v.yc("(",v.gc(5,4,null==n.person?null:n.person.position),")"),v.Cb(2),v.kc("routerLink",v.mc(6,L,n.person.id))}}var x,F=((x=function(){function t(e,n){_classCallCheck(this,t),this.staffService=e,this.activatedRoute=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.params.pipe(Object(b.a)((function(t){return t.uid})),Object(d.a)((function(t){return t.uid})),Object(h.a)((function(e){return t.staffService.getOne(e)}))).subscribe((function(e){return t.person=e}),(function(t){return console.error(t)}))}}]),t}()).\u0275fac=function(t){return new(t||x)(v.Ob(I),v.Ob(p.a))},x.\u0275cmp=v.Ib({type:x,selectors:[["app-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-h1"],[1,"mat-caption"],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(t,e){1&t&&v.vc(0,R,8,8,"ng-container",0),2&t&&v.kc("ngIf",e.person)},directives:[r.l,i.a,p.e],pipes:[j],styles:[""]}),x),M=n("mFH5");function E(t,e){if(1&t&&(v.Ub(0,"mat-option",8),v.wc(1),v.fc(2,"positionToPrint"),v.Tb()),2&t){var n=e.$implicit;v.kc("value",n),v.Cb(1),v.xc(v.gc(2,2,n))}}var V,A=((V=function(){function t(e,n,r,a){_classCallCheck(this,t),this.staffService=e,this.activatedRoute=n,this.fb=r,this.router=a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.form=this.fb.group({firstName:["",[a.k.required]],lastName:["",[a.k.required]],position:[_.employee,[a.k.required]],phone:[null,[]],email:[null,[a.k.email]]}),this.activatedRoute.params.pipe(Object(b.a)((function(t){return t.uid})),Object(d.a)((function(t){return t.uid})),Object(h.a)((function(e){return t.staffService.getOne(e)}))).subscribe((function(e){t.person=e,t.form.setValue({firstName:e.firstName,lastName:e.lastName,position:e.position,phone:e.phone||null,email:e.email||null})}),(function(t){return console.error(t)}))}},{key:"save",value:function(){var t=this;if(this.form.valid){var e=this.form.value;(this.person?this.staffService.patchStaff(this.person.id,e):this.staffService.postStaff(e)).subscribe((function(e){t.router.navigate(["/staff/detail",e.id])}))}}},{key:"positions",get:function(){return[_.owner,_.employee,_.manager]}}]),t}()).\u0275fac=function(t){return new(t||V)(v.Ob(I),v.Ob(p.a),v.Ob(a.b),v.Ob(p.b))},V.\u0275cmp=v.Ib({type:V,selectors:[["app-edit"]],decls:24,vars:3,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","lastName"],["matInput","","formControlName","firstName"],["matInput","","formControlName","phone","type","tel"],["matInput","","formControlName","email","type","email"],["formControlName","position"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(v.Ub(0,"form",0),v.cc("ngSubmit",(function(){return e.save()})),v.Ub(1,"mat-form-field"),v.Ub(2,"mat-label"),v.wc(3,"Last Name"),v.Tb(),v.Pb(4,"input",1),v.Tb(),v.Ub(5,"mat-form-field"),v.Ub(6,"mat-label"),v.wc(7,"First Name"),v.Tb(),v.Pb(8,"input",2),v.Tb(),v.Ub(9,"mat-form-field"),v.Ub(10,"mat-label"),v.wc(11,"Phone"),v.Tb(),v.Pb(12,"input",3),v.Tb(),v.Ub(13,"mat-form-field"),v.Ub(14,"mat-label"),v.wc(15,"Email"),v.Tb(),v.Pb(16,"input",4),v.Tb(),v.Ub(17,"mat-form-field"),v.Ub(18,"mat-label"),v.wc(19,"Position"),v.Tb(),v.Ub(20,"mat-select",5),v.vc(21,E,3,4,"mat-option",6),v.Tb(),v.Tb(),v.Ub(22,"button",7),v.wc(23," Save "),v.Tb(),v.Tb()),2&t&&(v.kc("formGroup",e.form),v.Cb(21),v.kc("ngForOf",e.positions),v.Cb(1),v.kc("disabled",!e.form.valid))},directives:[a.l,a.h,a.d,c.b,c.e,f.a,a.a,a.g,a.c,l.a,r.k,i.b,M.h],pipes:[j],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),V);function $(t,e){if(1&t&&v.Pb(0,"img",6),2&t){var n=v.ec().$implicit;v.kc("src",n.pictureUrl,v.qc)}}var q=function(t){return["../detail",t]};function z(t,e){if(1&t&&(v.Ub(0,"mat-grid-tile"),v.Ub(1,"a",3),v.Ub(2,"mat-card",4),v.Ub(3,"mat-card-header"),v.vc(4,$,1,1,"img",5),v.Ub(5,"mat-card-title"),v.wc(6),v.Tb(),v.Ub(7,"mat-card-subtitle"),v.wc(8),v.fc(9,"positionToPrint"),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Tb()),2&t){var n=e.$implicit;v.Cb(1),v.kc("routerLink",v.mc(7,q,n.id)),v.Cb(3),v.kc("ngIf",n.pictureUrl),v.Cb(2),v.zc("",n.lastName," ",n.firstName,""),v.Cb(2),v.xc(v.gc(9,5,n.position))}}var Y,B,G,H=function(){return["../new"]},J=((Y=function(){function t(e){_classCallCheck(this,t),this.staffService=e}return _createClass(t,[{key:"list$",get:function(){return this.staffService.getList()}}]),t}()).\u0275fac=function(t){return new(t||Y)(v.Ob(I))},Y.\u0275cmp=v.Ib({type:Y,selectors:[["app-list"]],decls:6,vars:5,consts:[["mat-icon-button","","aria-label","Example icon-button with a heart icon",3,"routerLink"],["cols","2","gutterSize","1.2rem",1,"list"],[4,"ngFor","ngForOf"],[1,"link",3,"routerLink"],[1,"item"],["mat-card-avatar","",3,"src",4,"ngIf"],["mat-card-avatar","",3,"src"]],template:function(t,e){1&t&&(v.Ub(0,"a",0),v.Ub(1,"mat-icon"),v.wc(2,"person_add"),v.Tb(),v.Tb(),v.Ub(3,"mat-grid-list",1),v.vc(4,z,10,9,"mat-grid-tile",2),v.fc(5,"async"),v.Tb()),2&t&&(v.kc("routerLink",v.lc(4,H)),v.Cb(4),v.kc("ngForOf",v.gc(5,2,e.list$)))},directives:[i.a,p.e,u.a,s.a,r.k,s.c,o.a,o.e,r.l,o.h,o.g,o.c],pipes:[r.b,j],styles:[".list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:100%}"]}),Y),D=[{path:"",component:(B=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),B.\u0275fac=function(t){return new(t||B)},B.\u0275cmp=v.Ib({type:B,selectors:[["app-staff"]],decls:3,vars:0,consts:[["translate","",1,"mat-display-1"]],template:function(t,e){1&t&&(v.Ub(0,"h1",0),v.wc(1,"Staff"),v.Tb(),v.Pb(2,"router-outlet"))},directives:[m.a,p.g],styles:[""]}),B),children:[{path:"list",component:J},{path:"edit/:uid",component:A},{path:"detail/:uid",component:F},{path:"new",component:A},{path:"",redirectTo:"list",pathMatch:"full"}]}],K=((G=function t(){_classCallCheck(this,t)}).\u0275mod=v.Mb({type:G}),G.\u0275inj=v.Lb({factory:function(t){return new(t||G)},imports:[[r.c,p.f.forChild(D),s.b,o.f,i.c,c.d,f.b,l.b,a.j,u.b,m.c.forChild()]]}),G)}}]);