(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{kanD:function(t,e,n){"use strict";n.r(e),n.d(e,"StaffModule",(function(){return _}));var r=n("2kYt"),i=n("nIj0"),o=n("PBFl"),a=n("Meci"),s=n("29Wa"),c=n("kAAd"),f=n("bFHC"),p=n("Cd2c"),u=n("R7+U"),l=n("sEIs"),m=n("xVbo"),b=n("YtkY"),d=n("TLy2"),h=n("EM62"),g=n("ROBh"),v=n("IdLP"),S="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),y=new Uint8Array(16);function w(){if(!S)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return S(y)}for(var N=[],R=0;R<256;++R)N[R]=(R+256).toString(16).substr(1);var O=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||w)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;++o)e[r+o]=i[o];return e||function(t,e){var n=0;return[N[t[n++]],N[t[n++]],N[t[n++]],N[t[n++]],"-",N[t[n++]],N[t[n++]],"-",N[t[n++]],N[t[n++]],"-",N[t[n++]],N[t[n++]],"-",N[t[n++]],N[t[n++]],N[t[n++]],N[t[n++]],N[t[n++]],N[t[n++]]].join("")}(i)},k=function(t){return t[t.owner=0]="owner",t[t.manager=1]="manager",t[t.employee=2]="employee",t}({});const j=[{id:"1",firstName:"\ubbfc",lastName:"\uae40",pictureUrl:`https://picsum.photos/200/200?random=${O()}`,position:k.manager},{id:"2",firstName:"\uc11d\ud604",lastName:"\uae40",pictureUrl:`https://picsum.photos/200/200?random=${O()}`,position:k.owner},{id:"3",firstName:"\uc694\ud55c",lastName:"\ub77c\uc9c0\uc560",pictureUrl:`https://picsum.photos/200/200?random=${O()}`,position:k.employee},{id:"4",firstName:"Nicolas",lastName:"Lagier",pictureUrl:`https://picsum.photos/200/200?random=${O()}`,position:k.employee}];let C=(()=>{class t{constructor(){this.staff=[...j]}getList(){return Object(g.a)(this.staff)}getOne(t){return new v.a(e=>{const n=this.staff.find(e=>e.id===t);if(!n)throw new Error(`Person ${t} not Found`);e.next(n)})}patchStaff(t,e){return new v.a(n=>{const r=this.staff.findIndex(e=>e.id===t);if(-1===r)throw new Error("No such staff");this.staff[r]=Object.assign(Object.assign({},this.staff[r]),e),n.next(this.staff[r])})}postStaff(t){return new v.a(e=>{t.id=O(),this.staff.push(t),e.next(t)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),I=(()=>{class t{transform(t){return t===k.owner?"Owner":t===k.manager?"Manager":t===k.employee?"Staff":""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=h.Mb({name:"positionToPrint",type:t,pure:!0}),t})();const P=function(t){return["../../edit",t]};function B(t,e){if(1&t&&(h.Qb(0),h.Sb(1,"h1",1),h.tc(2),h.Sb(3,"span",2),h.tc(4),h.dc(5,"positionToPrint"),h.Rb(),h.Rb(),h.Sb(6,"a",3),h.tc(7,"Edit"),h.Rb(),h.Pb()),2&t){const t=h.cc();h.Bb(2),h.wc(" ",null==t.person?null:t.person.lastName," ",null==t.person?null:t.person.firstName," "),h.Bb(2),h.vc("(",h.ec(5,4,null==t.person?null:t.person.position),")"),h.Bb(2),h.hc("routerLink",h.jc(6,P,t.person.id))}}let L=(()=>{class t{constructor(t,e){this.staffService=t,this.activatedRoute=e}ngOnInit(){this.activatedRoute.params.pipe(Object(m.a)(t=>t.uid),Object(b.a)(t=>t.uid),Object(d.a)(t=>this.staffService.getOne(t))).subscribe(t=>this.person=t,t=>console.error(t))}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(C),h.Nb(l.a))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-h1"],[1,"mat-caption"],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(t,e){1&t&&h.sc(0,B,8,8,"ng-container",0),2&t&&h.hc("ngIf",e.person)},directives:[r.l,o.a,l.e],pipes:[I],styles:[""]}),t})();var F=n("mFH5");function M(t,e){if(1&t&&(h.Sb(0,"mat-option",6),h.tc(1),h.dc(2,"positionToPrint"),h.Rb()),2&t){const t=e.$implicit;h.hc("value",t),h.Bb(1),h.uc(h.ec(2,2,t))}}let $=(()=>{class t{constructor(t,e,n,r){this.staffService=t,this.activatedRoute=e,this.fb=n,this.router=r}ngOnInit(){this.form=this.fb.group({firstName:["",[i.k.required]],lastName:["",[i.k.required]],position:[k.employee,[i.k.required]]}),this.activatedRoute.params.pipe(Object(m.a)(t=>t.uid),Object(b.a)(t=>t.uid),Object(d.a)(t=>this.staffService.getOne(t))).subscribe(t=>{this.person=t,this.form.setValue({firstName:t.firstName,lastName:t.lastName,position:t.position})},t=>console.error(t))}get positions(){return[k.owner,k.employee,k.manager]}save(){if(this.form.valid){const t=this.form.value;let e;e=this.person?this.staffService.patchStaff(this.person.id,t):this.staffService.postStaff(t),e.subscribe(t=>{this.router.navigate(["/staff/detail",t.id])})}}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(C),h.Nb(l.a),h.Nb(i.b),h.Nb(l.b))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-edit"]],decls:16,vars:3,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","lastName"],["matInput","","formControlName","firstName"],["formControlName","position"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(h.Sb(0,"form",0),h.ac("ngSubmit",(function(){return e.save()})),h.Sb(1,"mat-form-field"),h.Sb(2,"mat-label"),h.tc(3,"Last Name"),h.Rb(),h.Ob(4,"input",1),h.Rb(),h.Sb(5,"mat-form-field"),h.Sb(6,"mat-label"),h.tc(7,"First Name"),h.Rb(),h.Ob(8,"input",2),h.Rb(),h.Sb(9,"mat-form-field"),h.Sb(10,"mat-label"),h.tc(11,"Position"),h.Rb(),h.Sb(12,"mat-select",3),h.sc(13,M,3,4,"mat-option",4),h.Rb(),h.Rb(),h.Sb(14,"button",5),h.tc(15," Save "),h.Rb(),h.Rb()),2&t&&(h.hc("formGroup",e.form),h.Bb(13),h.hc("ngForOf",e.positions),h.Bb(1),h.hc("disabled",!e.form.valid))},directives:[i.l,i.h,i.d,s.b,s.e,p.a,i.a,i.g,i.c,u.a,r.k,o.b,F.h],pipes:[I],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),t})();function x(t,e){if(1&t&&h.Ob(0,"img",6),2&t){const t=h.cc().$implicit;h.hc("src",t.pictureUrl,h.nc)}}const U=function(t){return["../detail",t]};function E(t,e){if(1&t&&(h.Sb(0,"mat-grid-tile"),h.Sb(1,"a",3),h.Sb(2,"mat-card",4),h.Sb(3,"mat-card-header"),h.sc(4,x,1,1,"img",5),h.Sb(5,"mat-card-title"),h.tc(6),h.Rb(),h.Sb(7,"mat-card-subtitle"),h.tc(8),h.dc(9,"positionToPrint"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t){const t=e.$implicit;h.Bb(1),h.hc("routerLink",h.jc(7,U,t.id)),h.Bb(3),h.hc("ngIf",t.pictureUrl),h.Bb(2),h.wc("",t.lastName," ",t.firstName,""),h.Bb(2),h.uc(h.ec(9,5,t.position))}}const V=function(){return["../new"]};let H=(()=>{class t{constructor(t){this.staffService=t}get list$(){return this.staffService.getList()}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(C))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-list"]],decls:6,vars:5,consts:[["mat-icon-button","","aria-label","Example icon-button with a heart icon",3,"routerLink"],["cols","2","gutterSize","1.2rem",1,"list"],[4,"ngFor","ngForOf"],[1,"link",3,"routerLink"],[1,"item"],["mat-card-avatar","",3,"src",4,"ngIf"],["mat-card-avatar","",3,"src"]],template:function(t,e){1&t&&(h.Sb(0,"a",0),h.Sb(1,"mat-icon"),h.tc(2,"person_add"),h.Rb(),h.Rb(),h.Sb(3,"mat-grid-list",1),h.sc(4,E,10,9,"mat-grid-tile",2),h.dc(5,"async"),h.Rb()),2&t&&(h.hc("routerLink",h.ic(4,V)),h.Bb(4),h.hc("ngForOf",h.ec(5,2,e.list$)))},directives:[o.a,l.e,f.a,c.a,r.k,c.c,a.a,a.e,r.l,a.h,a.g,a.c],pipes:[r.b,I],styles:[".list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:100%}"]}),t})();const T=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["app-staff"]],decls:3,vars:0,consts:[[1,"mat-display-1"]],template:function(t,e){1&t&&(h.Sb(0,"h1",0),h.tc(1,"Staff"),h.Rb(),h.Ob(2,"router-outlet"))},directives:[l.g],styles:[""]}),t})(),children:[{path:"list",component:H},{path:"edit/:uid",component:$},{path:"detail/:uid",component:L},{path:"new",component:$},{path:"",redirectTo:"list",pathMatch:"full"}]}];let _=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},imports:[[r.c,l.f.forChild(T),c.b,a.f,o.c,s.d,p.b,u.b,i.j,f.b]]}),t})()}}]);