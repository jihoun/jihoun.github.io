(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{kanD:function(t,e,n){"use strict";n.r(e),n.d(e,"StaffModule",(function(){return Y}));var i=n("2kYt"),r=n("nIj0"),a=n("PBFl"),o=n("Meci"),s=n("29Wa"),c=n("kAAd"),b=n("bFHC"),l=n("Cd2c"),m=n("R7+U"),u=n("Y2X+"),p=n("sEIs"),f=n("s2Ay"),h=n("xVbo"),d=n("YtkY"),g=n("TLy2"),C=n("EM62"),v=n("AytR"),U=n("vobO");let T=(()=>{class t{constructor(t){this.http=t,this.baseUrl=v.a.baseUrl}getList(){return this.http.get(`${this.baseUrl}/users`)}getOne(t){return this.http.get(`${this.baseUrl}/users/${t}`)}update(t,e){return this.http.put(`${this.baseUrl}/users/${t}`,e)}create(t){return this.http.post(`${this.baseUrl}/users`,t)}}return t.\u0275fac=function(e){return new(e||t)(C.Yb(U.a))},t.\u0275prov=C.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var O=n("kYBX");let k=(()=>{class t{transform(t){return t===O.b.owner?"Owner":t===O.b.manager?"Manager":t===O.b.employee?"Staff":""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=C.Nb({name:"positionToPrint",type:t,pure:!0}),t})();function y(t,e){if(1&t&&(C.Ub(0,"a",6),C.Ub(1,"mat-icon"),C.Ac(2,"phone"),C.Tb(),C.Ac(3),C.Tb()),2&t){const t=C.gc(2);C.mc("href","tel:"+t.person.phone,C.uc),C.Cb(3),C.Bc(t.person.phone)}}function A(t,e){if(1&t&&(C.Ub(0,"a",7),C.Ub(1,"mat-icon"),C.Ac(2,"email"),C.Tb(),C.Ac(3),C.Tb()),2&t){const t=C.gc(2);C.mc("href","mailto:"+t.person.email,C.uc),C.Cb(3),C.Cc(" ",t.person.email,"")}}const I=function(t){return["../../edit",t]};function S(t,e){if(1&t&&(C.Sb(0),C.Ub(1,"h1",1),C.Ac(2),C.Ub(3,"span",2),C.Ac(4),C.hc(5,"positionToPrint"),C.Tb(),C.Tb(),C.Ub(6,"p"),C.zc(7,y,4,2,"a",3),C.zc(8,A,4,2,"a",4),C.Tb(),C.Ub(9,"a",5),C.Ub(10,"mat-icon"),C.Ac(11,"edit"),C.Tb(),C.Ac(12),C.hc(13,"translate"),C.Tb(),C.Rb()),2&t){const t=C.gc();C.Cb(2),C.Dc(" ",null==t.person?null:t.person.lastName," ",null==t.person?null:t.person.firstName," "),C.Cb(2),C.Cc("(",C.ic(5,7,null==t.person?null:t.person.position),")"),C.Cb(3),C.mc("ngIf",null==t.person?null:t.person.phone),C.Cb(1),C.mc("ngIf",null==t.person?null:t.person.email),C.Cb(1),C.mc("routerLink",C.oc(11,I,t.person.id)),C.Cb(3),C.Cc(" ",C.ic(13,9,"misc.edit")," ")}}let N=(()=>{class t{constructor(t,e){this.staffService=t,this.activatedRoute=e}ngOnInit(){this.activatedRoute.params.pipe(Object(h.a)(t=>t.uid),Object(d.a)(t=>t.uid),Object(g.a)(t=>this.staffService.getOne(t))).subscribe(t=>this.person=t,t=>console.error(t))}}return t.\u0275fac=function(e){return new(e||t)(C.Ob(T),C.Ob(p.a))},t.\u0275cmp=C.Ib({type:t,selectors:[["app-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-h1"],[1,"mat-caption"],["mat-flat-button","",3,"href",4,"ngIf"],["mat-flat-button","","target","_blank",3,"href",4,"ngIf"],["mat-flat-button","","color","primary",3,"routerLink"],["mat-flat-button","",3,"href"],["mat-flat-button","","target","_blank",3,"href"]],template:function(t,e){1&t&&C.zc(0,S,14,13,"ng-container",0),2&t&&C.mc("ngIf",e.person)},directives:[i.m,a.a,p.e,b.a],pipes:[k,f.d],styles:[""]}),t})();var P=n("mFH5");function w(t,e){if(1&t&&(C.Ub(0,"mat-option",8),C.Ac(1),C.hc(2,"positionToPrint"),C.Tb()),2&t){const t=e.$implicit;C.mc("value",t),C.Cb(1),C.Bc(C.ic(2,2,t))}}let L=(()=>{class t{constructor(t,e,n,i){this.staffService=t,this.activatedRoute=e,this.fb=n,this.router=i}ngOnInit(){this.form=this.fb.group({firstName:["",[r.n.required]],lastName:["",[r.n.required]],position:[O.b.employee,[r.n.required]],phone:[null,[]],email:[null,[r.n.email]]}),this.activatedRoute.params.pipe(Object(h.a)(t=>t.uid),Object(d.a)(t=>t.uid),Object(g.a)(t=>this.staffService.getOne(t))).subscribe(t=>{this.person=t,this.form.setValue({firstName:t.firstName,lastName:t.lastName,position:t.position,phone:t.phone||null,email:t.email||null})},t=>console.error(t))}get positions(){return[O.b.owner,O.b.manager,O.b.employee]}save(){if(this.form.valid){const t=this.form.value;let e;e=this.person?this.staffService.update(this.person.id,t):this.staffService.create(t),e.subscribe(t=>{this.router.navigate(["/dash/staff/detail",t.id])})}}}return t.\u0275fac=function(e){return new(e||t)(C.Ob(T),C.Ob(p.a),C.Ob(r.b),C.Ob(p.b))},t.\u0275cmp=C.Ib({type:t,selectors:[["app-edit"]],decls:25,vars:6,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","lastName"],["matInput","","formControlName","firstName"],["matInput","","formControlName","phone","type","tel"],["matInput","","formControlName","email","type","email"],["formControlName","position"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(C.Ub(0,"form",0),C.cc("ngSubmit",(function(){return e.save()})),C.Ub(1,"mat-form-field"),C.Ub(2,"mat-label"),C.Ac(3,"Last Name"),C.Tb(),C.Pb(4,"input",1),C.Tb(),C.Ub(5,"mat-form-field"),C.Ub(6,"mat-label"),C.Ac(7,"First Name"),C.Tb(),C.Pb(8,"input",2),C.Tb(),C.Ub(9,"mat-form-field"),C.Ub(10,"mat-label"),C.Ac(11,"Phone"),C.Tb(),C.Pb(12,"input",3),C.Tb(),C.Ub(13,"mat-form-field"),C.Ub(14,"mat-label"),C.Ac(15,"Email"),C.Tb(),C.Pb(16,"input",4),C.Tb(),C.Ub(17,"mat-form-field"),C.Ub(18,"mat-label"),C.Ac(19,"Position"),C.Tb(),C.Ub(20,"mat-select",5),C.zc(21,w,3,4,"mat-option",6),C.Tb(),C.Tb(),C.Ub(22,"button",7),C.Ac(23),C.hc(24,"translate"),C.Tb(),C.Tb()),2&t&&(C.mc("formGroup",e.form),C.Cb(21),C.mc("ngForOf",e.positions),C.Cb(1),C.mc("disabled",!e.form.valid),C.Cb(1),C.Cc(" ",C.ic(24,4,"misc.save")," "))},directives:[r.o,r.j,r.d,s.b,s.e,l.b,r.a,r.i,r.c,m.a,i.l,a.b,P.l],pipes:[f.d,k],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),t})();var M=n("HOZh");function $(t,e){if(1&t&&C.Pb(0,"img",6),2&t){const t=C.gc().$implicit;C.mc("src",t.pictureUrl,C.uc)}}const _=function(t){return["../detail",t]};function F(t,e){if(1&t&&(C.Ub(0,"mat-grid-tile"),C.Ub(1,"a",3),C.Ub(2,"mat-card",4),C.Ub(3,"mat-card-header"),C.zc(4,$,1,1,"img",5),C.Ub(5,"mat-card-title"),C.Ac(6),C.Tb(),C.Ub(7,"mat-card-subtitle"),C.Ac(8),C.hc(9,"positionToPrint"),C.Tb(),C.Tb(),C.Tb(),C.Tb(),C.Tb()),2&t){const t=e.$implicit;C.Cb(1),C.mc("routerLink",C.oc(7,_,t.id)),C.Cb(3),C.mc("ngIf",t.pictureUrl),C.Cb(2),C.Dc("",t.lastName," ",t.firstName,""),C.Cb(2),C.Bc(C.ic(9,5,t.position))}}const j=function(){return["../new"]};let z=(()=>{class t{constructor(t,e){this.staffService=t,this.breakpointObserver=e}get list$(){return this._list$||(this._list$=this.staffService.getList()),this._list$}ngOnInit(){this.breakpointObserver.observe([M.b.XSmall,M.b.Small,M.b.Medium,M.b.Large,M.b.XLarge]).subscribe(t=>{t.matches&&(t.breakpoints[M.b.XSmall]?this.nbColumns=1:t.breakpoints[M.b.Small]?this.nbColumns=2:t.breakpoints[M.b.Medium]?this.nbColumns=3:t.breakpoints[M.b.Large]?this.nbColumns=4:t.breakpoints[M.b.XLarge]&&(this.nbColumns=5))})}}return t.\u0275fac=function(e){return new(e||t)(C.Ob(T),C.Ob(M.a))},t.\u0275cmp=C.Ib({type:t,selectors:[["app-list"]],decls:6,vars:6,consts:[["mat-icon-button","","matTooltip","Add Staff","aria-label","Add Staff","color","primary",3,"routerLink"],["gutterSize","1.2rem",1,"list",3,"cols"],[4,"ngFor","ngForOf"],[1,"link",3,"routerLink"],[1,"item"],["mat-card-avatar","",3,"src",4,"ngIf"],["mat-card-avatar","",3,"src"]],template:function(t,e){1&t&&(C.Ub(0,"a",0),C.Ub(1,"mat-icon"),C.Ac(2,"person_add"),C.Tb(),C.Tb(),C.Ub(3,"mat-grid-list",1),C.zc(4,F,10,9,"mat-grid-tile",2),C.hc(5,"async"),C.Tb()),2&t&&(C.mc("routerLink",C.nc(5,j)),C.Cb(3),C.mc("cols",e.nbColumns),C.Cb(1),C.mc("ngForOf",C.ic(5,3,e.list$)))},directives:[a.a,p.e,u.a,b.a,c.a,i.l,c.c,o.a,o.c,i.m,o.f,o.e,o.b],pipes:[i.b,k],styles:[".list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{width:100%}"]}),t})();const R=function(){return["/dash/staff"]},X=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=C.Ib({type:t,selectors:[["app-staff"]],decls:3,vars:2,consts:[["translate","",1,"mat-display-1",3,"routerLink"]],template:function(t,e){1&t&&(C.Ub(0,"h1",0),C.Ac(1,"Staff"),C.Tb(),C.Pb(2,"router-outlet")),2&t&&C.mc("routerLink",C.nc(1,R))},directives:[f.a,p.c,p.g],styles:[""]}),t})(),children:[{path:"list",component:z},{path:"edit/:uid",component:L},{path:"detail/:uid",component:N},{path:"new",component:L},{path:"",redirectTo:"list",pathMatch:"full"}]}];let Y=(()=>{class t{}return t.\u0275mod=C.Mb({type:t}),t.\u0275inj=C.Lb({factory:function(e){return new(e||t)},imports:[[i.c,p.f.forChild(X),c.b,o.d,a.c,s.d,l.c,m.b,r.m,b.b,u.b,f.c.forChild()]]}),t})()}}]);