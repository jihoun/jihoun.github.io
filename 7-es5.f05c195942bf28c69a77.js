function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{kanD:function(t,e,n){"use strict";n.r(e),n.d(e,"StaffModule",(function(){return D}));var r=n("2kYt"),i=n("nIj0"),a=n("PBFl"),o=n("Meci"),c=n("29Wa"),s=n("kAAd"),u=n("bFHC"),f=n("Cd2c"),l=n("R7+U"),p=n("sEIs"),m=n("xVbo"),b=n("YtkY"),d=n("TLy2"),h=n("EM62"),v=n("ROBh"),g=n("IdLP"),y="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),S=new Uint8Array(16);function k(){if(!y)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y(S)}for(var w=[],C=0;C<256;++C)w[C]=(C+256).toString(16).substr(1);var N,R,O=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||k)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var a=0;a<16;++a)e[r+a]=i[a];return e||function(t,e){var n=0;return[w[t[n++]],w[t[n++]],w[t[n++]],w[t[n++]],"-",w[t[n++]],w[t[n++]],"-",w[t[n++]],w[t[n++]],"-",w[t[n++]],w[t[n++]],"-",w[t[n++]],w[t[n++]],w[t[n++]],w[t[n++]],w[t[n++]],w[t[n++]]].join("")}(i)},_=function(t){return t[t.owner=0]="owner",t[t.manager=1]="manager",t[t.employee=2]="employee",t}({}),P=[{id:"1",firstName:"\ubbfc",lastName:"\uae40",pictureUrl:"https://picsum.photos/200/200?random=".concat(O()),position:_.manager},{id:"2",firstName:"\uc11d\ud604",lastName:"\uae40",pictureUrl:"https://picsum.photos/200/200?random=".concat(O()),position:_.owner},{id:"3",firstName:"\uc694\ud55c",lastName:"\ub77c\uc9c0\uc560",pictureUrl:"https://picsum.photos/200/200?random=".concat(O()),position:_.employee},{id:"4",firstName:"Nicolas",lastName:"Lagier",pictureUrl:"https://picsum.photos/200/200?random=".concat(O()),position:_.employee}],j=((R=function(){function t(){_classCallCheck(this,t),this.staff=[].concat(P)}return _createClass(t,[{key:"getList",value:function(){return Object(v.a)(this.staff)}},{key:"getOne",value:function(t){var e=this;return new g.a((function(n){var r=e.staff.find((function(e){return e.id===t}));if(!r)throw new Error("Person ".concat(t," not Found"));n.next(r)}))}},{key:"patchStaff",value:function(t,e){var n=this;return new g.a((function(r){var i=n.staff.findIndex((function(e){return e.id===t}));if(-1===i)throw new Error("No such staff");n.staff[i]=Object.assign(Object.assign({},n.staff[i]),e),r.next(n.staff[i])}))}},{key:"postStaff",value:function(t){var e=this;return new g.a((function(n){t.id=O(),e.staff.push(t),n.next(t)}))}}]),t}()).\u0275fac=function(t){return new(t||R)},R.\u0275prov=h.Jb({token:R,factory:R.\u0275fac,providedIn:"root"}),R),I=((N=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return t===_.owner?"Owner":t===_.manager?"Manager":t===_.employee?"Staff":""}}]),t}()).\u0275fac=function(t){return new(t||N)},N.\u0275pipe=h.Mb({name:"positionToPrint",type:N,pure:!0}),N),B=function(t){return["../../edit",t]};function L(t,e){if(1&t&&(h.Qb(0),h.Sb(1,"h1",1),h.tc(2),h.Sb(3,"span",2),h.tc(4),h.dc(5,"positionToPrint"),h.Rb(),h.Rb(),h.Sb(6,"a",3),h.tc(7,"Edit"),h.Rb(),h.Pb()),2&t){var n=h.cc();h.Bb(2),h.wc(" ",null==n.person?null:n.person.lastName," ",null==n.person?null:n.person.firstName," "),h.Bb(2),h.vc("(",h.ec(5,4,null==n.person?null:n.person.position),")"),h.Bb(2),h.hc("routerLink",h.jc(6,B,n.person.id))}}var F,M=((F=function(){function t(e,n){_classCallCheck(this,t),this.staffService=e,this.activatedRoute=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.params.pipe(Object(m.a)((function(t){return t.uid})),Object(b.a)((function(t){return t.uid})),Object(d.a)((function(e){return t.staffService.getOne(e)}))).subscribe((function(e){return t.person=e}),(function(t){return console.error(t)}))}}]),t}()).\u0275fac=function(t){return new(t||F)(h.Nb(j),h.Nb(p.a))},F.\u0275cmp=h.Hb({type:F,selectors:[["app-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-h1"],[1,"mat-caption"],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(t,e){1&t&&h.sc(0,L,8,8,"ng-container",0),2&t&&h.hc("ngIf",e.person)},directives:[r.l,a.a,p.e],pipes:[I],styles:[""]}),F),x=n("mFH5");function E(t,e){if(1&t&&(h.Sb(0,"mat-option",6),h.tc(1),h.dc(2,"positionToPrint"),h.Rb()),2&t){var n=e.$implicit;h.hc("value",n),h.Bb(1),h.uc(h.ec(2,2,n))}}var U,T=((U=function(){function t(e,n,r,i){_classCallCheck(this,t),this.staffService=e,this.activatedRoute=n,this.fb=r,this.router=i}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.form=this.fb.group({firstName:["",[i.k.required]],lastName:["",[i.k.required]],position:[_.employee,[i.k.required]]}),this.activatedRoute.params.pipe(Object(m.a)((function(t){return t.uid})),Object(b.a)((function(t){return t.uid})),Object(d.a)((function(e){return t.staffService.getOne(e)}))).subscribe((function(e){t.person=e,t.form.setValue({firstName:e.firstName,lastName:e.lastName,position:e.position})}),(function(t){return console.error(t)}))}},{key:"save",value:function(){var t=this;if(this.form.valid){var e=this.form.value;(this.person?this.staffService.patchStaff(this.person.id,e):this.staffService.postStaff(e)).subscribe((function(e){t.router.navigate(["/staff/detail",e.id])}))}}},{key:"positions",get:function(){return[_.owner,_.employee,_.manager]}}]),t}()).\u0275fac=function(t){return new(t||U)(h.Nb(j),h.Nb(p.a),h.Nb(i.b),h.Nb(p.b))},U.\u0275cmp=h.Hb({type:U,selectors:[["app-edit"]],decls:16,vars:3,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","lastName"],["matInput","","formControlName","firstName"],["formControlName","position"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(h.Sb(0,"form",0),h.ac("ngSubmit",(function(){return e.save()})),h.Sb(1,"mat-form-field"),h.Sb(2,"mat-label"),h.tc(3,"Last Name"),h.Rb(),h.Ob(4,"input",1),h.Rb(),h.Sb(5,"mat-form-field"),h.Sb(6,"mat-label"),h.tc(7,"First Name"),h.Rb(),h.Ob(8,"input",2),h.Rb(),h.Sb(9,"mat-form-field"),h.Sb(10,"mat-label"),h.tc(11,"Position"),h.Rb(),h.Sb(12,"mat-select",3),h.sc(13,E,3,4,"mat-option",4),h.Rb(),h.Rb(),h.Sb(14,"button",5),h.tc(15," Save "),h.Rb(),h.Rb()),2&t&&(h.hc("formGroup",e.form),h.Bb(13),h.hc("ngForOf",e.positions),h.Bb(1),h.hc("disabled",!e.form.valid))},directives:[i.l,i.h,i.d,c.b,c.e,f.a,i.a,i.g,i.c,l.a,r.k,a.b,x.h],pipes:[I],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),U);function V(t,e){if(1&t&&h.Ob(0,"img",6),2&t){var n=h.cc().$implicit;h.hc("src",n.pictureUrl,h.nc)}}var H=function(t){return["../detail",t]};function $(t,e){if(1&t&&(h.Sb(0,"mat-grid-tile"),h.Sb(1,"a",3),h.Sb(2,"mat-card",4),h.Sb(3,"mat-card-header"),h.sc(4,V,1,1,"img",5),h.Sb(5,"mat-card-title"),h.tc(6),h.Rb(),h.Sb(7,"mat-card-subtitle"),h.tc(8),h.dc(9,"positionToPrint"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t){var n=e.$implicit;h.Bb(1),h.hc("routerLink",h.jc(7,H,n.id)),h.Bb(3),h.hc("ngIf",n.pictureUrl),h.Bb(2),h.wc("",n.lastName," ",n.firstName,""),h.Bb(2),h.uc(h.ec(9,5,n.position))}}var A,q,J,Y=function(){return["../new"]},G=((A=function(){function t(e){_classCallCheck(this,t),this.staffService=e}return _createClass(t,[{key:"list$",get:function(){return this.staffService.getList()}}]),t}()).\u0275fac=function(t){return new(t||A)(h.Nb(j))},A.\u0275cmp=h.Hb({type:A,selectors:[["app-list"]],decls:6,vars:5,consts:[["mat-icon-button","","aria-label","Example icon-button with a heart icon",3,"routerLink"],["cols","2","gutterSize","1.2rem",1,"list"],[4,"ngFor","ngForOf"],[1,"link",3,"routerLink"],[1,"item"],["mat-card-avatar","",3,"src",4,"ngIf"],["mat-card-avatar","",3,"src"]],template:function(t,e){1&t&&(h.Sb(0,"a",0),h.Sb(1,"mat-icon"),h.tc(2,"person_add"),h.Rb(),h.Rb(),h.Sb(3,"mat-grid-list",1),h.sc(4,$,10,9,"mat-grid-tile",2),h.dc(5,"async"),h.Rb()),2&t&&(h.hc("routerLink",h.ic(4,Y)),h.Bb(4),h.hc("ngForOf",h.ec(5,2,e.list$)))},directives:[a.a,p.e,u.a,s.a,r.k,s.c,o.a,o.e,r.l,o.h,o.g,o.c],pipes:[r.b,I],styles:[".list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:100%}"]}),A),z=[{path:"",component:(q=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),q.\u0275fac=function(t){return new(t||q)},q.\u0275cmp=h.Hb({type:q,selectors:[["app-staff"]],decls:3,vars:0,consts:[[1,"mat-display-1"]],template:function(t,e){1&t&&(h.Sb(0,"h1",0),h.tc(1,"Staff"),h.Rb(),h.Ob(2,"router-outlet"))},directives:[p.g],styles:[""]}),q),children:[{path:"list",component:G},{path:"edit/:uid",component:T},{path:"detail/:uid",component:M},{path:"new",component:T},{path:"",redirectTo:"list",pathMatch:"full"}]}],D=((J=function t(){_classCallCheck(this,t)}).\u0275mod=h.Lb({type:J}),J.\u0275inj=h.Kb({factory:function(t){return new(t||J)},imports:[[r.c,p.f.forChild(z),s.b,o.f,a.c,c.d,f.b,l.b,i.j,u.b]]}),J)}}]);