function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{kanD:function(t,e,n){"use strict";n.r(e),n.d(e,"StaffModule",(function(){return D}));var r=n("2kYt"),i=n("nIj0"),a=n("PBFl"),o=n("Meci"),c=n("29Wa"),s=n("kAAd"),u=n("bFHC"),f=n("Cd2c"),l=n("R7+U"),p=n("sEIs"),m=n("xVbo"),b=n("YtkY"),d=n("TLy2"),h=n("EM62"),v=n("ROBh"),g=n("IdLP"),y="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),C=new Uint8Array(16);function k(){if(!y)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y(C)}for(var w=[],U=0;U<256;++U)w[U]=(U+256).toString(16).substr(1);var O,T,N=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||k)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var a=0;a<16;++a)e[r+a]=i[a];return e||function(t,e){var n=0;return[w[t[n++]],w[t[n++]],w[t[n++]],w[t[n++]],"-",w[t[n++]],w[t[n++]],"-",w[t[n++]],w[t[n++]],"-",w[t[n++]],w[t[n++]],"-",w[t[n++]],w[t[n++]],w[t[n++]],w[t[n++]],w[t[n++]],w[t[n++]]].join("")}(i)},j=function(t){return t[t.owner=0]="owner",t[t.manager=1]="manager",t[t.employee=2]="employee",t}({}),P=[{id:"1",firstName:"\ubbfc",lastName:"\uae40",pictureUrl:"https://picsum.photos/200/200?random=".concat(N()),position:j.manager},{id:"2",firstName:"\uc11d\ud604",lastName:"\uae40",pictureUrl:"https://picsum.photos/200/200?random=".concat(N()),position:j.owner},{id:"3",firstName:"\uc694\ud55c",lastName:"\ub77c\uc9c0\uc560",pictureUrl:"https://picsum.photos/200/200?random=".concat(N()),position:j.employee},{id:"4",firstName:"Nicolas",lastName:"Lagier",pictureUrl:"https://picsum.photos/200/200?random=".concat(N()),position:j.employee}],_=((T=function(){function t(){_classCallCheck(this,t),this.staff=[].concat(P)}return _createClass(t,[{key:"getList",value:function(){return Object(v.a)(this.staff)}},{key:"getOne",value:function(t){var e=this;return new g.a((function(n){var r=e.staff.find((function(e){return e.id===t}));if(!r)throw new Error("Person ".concat(t," not Found"));n.next(r)}))}},{key:"patchStaff",value:function(t,e){var n=this;return new g.a((function(r){var i=n.staff.findIndex((function(e){return e.id===t}));if(-1===i)throw new Error("No such staff");n.staff[i]=Object.assign(Object.assign({},n.staff[i]),e),r.next(n.staff[i])}))}},{key:"postStaff",value:function(t){var e=this;return new g.a((function(n){t.id=N(),e.staff.push(t),n.next(t)}))}}]),t}()).\u0275fac=function(t){return new(t||T)},T.\u0275prov=h.Kb({token:T,factory:T.\u0275fac,providedIn:"root"}),T),S=((O=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return t===j.owner?"Owner":t===j.manager?"Manager":t===j.employee?"Staff":""}}]),t}()).\u0275fac=function(t){return new(t||O)},O.\u0275pipe=h.Nb({name:"positionToPrint",type:O,pure:!0}),O),I=function(t){return["../../edit",t]};function L(t,e){if(1&t&&(h.Sb(0),h.Ub(1,"h1",1),h.vc(2),h.Ub(3,"span",2),h.vc(4),h.fc(5,"positionToPrint"),h.Tb(),h.Tb(),h.Ub(6,"a",3),h.vc(7,"Edit"),h.Tb(),h.Rb()),2&t){var n=h.ec();h.Cb(2),h.yc(" ",null==n.person?null:n.person.lastName," ",null==n.person?null:n.person.firstName," "),h.Cb(2),h.xc("(",h.gc(5,4,null==n.person?null:n.person.position),")"),h.Cb(2),h.jc("routerLink",h.lc(6,I,n.person.id))}}var R,F=((R=function(){function t(e,n){_classCallCheck(this,t),this.staffService=e,this.activatedRoute=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.params.pipe(Object(m.a)((function(t){return t.uid})),Object(b.a)((function(t){return t.uid})),Object(d.a)((function(e){return t.staffService.getOne(e)}))).subscribe((function(e){return t.person=e}),(function(t){return console.error(t)}))}}]),t}()).\u0275fac=function(t){return new(t||R)(h.Ob(_),h.Ob(p.a))},R.\u0275cmp=h.Ib({type:R,selectors:[["app-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-h1"],[1,"mat-caption"],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(t,e){1&t&&h.uc(0,L,8,8,"ng-container",0),2&t&&h.jc("ngIf",e.person)},directives:[r.l,a.a,p.e],pipes:[S],styles:[""]}),R),M=n("mFH5");function x(t,e){if(1&t&&(h.Ub(0,"mat-option",8),h.vc(1),h.fc(2,"positionToPrint"),h.Tb()),2&t){var n=e.$implicit;h.jc("value",n),h.Cb(1),h.wc(h.gc(2,2,n))}}var E,V=((E=function(){function t(e,n,r,i){_classCallCheck(this,t),this.staffService=e,this.activatedRoute=n,this.fb=r,this.router=i}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.form=this.fb.group({firstName:["",[i.k.required]],lastName:["",[i.k.required]],position:[j.employee,[i.k.required]],phone:[null,[]],email:[null,[i.k.email]]}),this.activatedRoute.params.pipe(Object(m.a)((function(t){return t.uid})),Object(b.a)((function(t){return t.uid})),Object(d.a)((function(e){return t.staffService.getOne(e)}))).subscribe((function(e){t.person=e,t.form.setValue({firstName:e.firstName,lastName:e.lastName,position:e.position,phone:e.phone||null,email:e.email||null})}),(function(t){return console.error(t)}))}},{key:"save",value:function(){var t=this;if(this.form.valid){var e=this.form.value;(this.person?this.staffService.patchStaff(this.person.id,e):this.staffService.postStaff(e)).subscribe((function(e){t.router.navigate(["/staff/detail",e.id])}))}}},{key:"positions",get:function(){return[j.owner,j.employee,j.manager]}}]),t}()).\u0275fac=function(t){return new(t||E)(h.Ob(_),h.Ob(p.a),h.Ob(i.b),h.Ob(p.b))},E.\u0275cmp=h.Ib({type:E,selectors:[["app-edit"]],decls:24,vars:3,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","lastName"],["matInput","","formControlName","firstName"],["matInput","","formControlName","phone","type","tel"],["matInput","","formControlName","email","type","email"],["formControlName","position"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(h.Ub(0,"form",0),h.cc("ngSubmit",(function(){return e.save()})),h.Ub(1,"mat-form-field"),h.Ub(2,"mat-label"),h.vc(3,"Last Name"),h.Tb(),h.Pb(4,"input",1),h.Tb(),h.Ub(5,"mat-form-field"),h.Ub(6,"mat-label"),h.vc(7,"First Name"),h.Tb(),h.Pb(8,"input",2),h.Tb(),h.Ub(9,"mat-form-field"),h.Ub(10,"mat-label"),h.vc(11,"Phone"),h.Tb(),h.Pb(12,"input",3),h.Tb(),h.Ub(13,"mat-form-field"),h.Ub(14,"mat-label"),h.vc(15,"Email"),h.Tb(),h.Pb(16,"input",4),h.Tb(),h.Ub(17,"mat-form-field"),h.Ub(18,"mat-label"),h.vc(19,"Position"),h.Tb(),h.Ub(20,"mat-select",5),h.uc(21,x,3,4,"mat-option",6),h.Tb(),h.Tb(),h.Ub(22,"button",7),h.vc(23," Save "),h.Tb(),h.Tb()),2&t&&(h.jc("formGroup",e.form),h.Cb(21),h.jc("ngForOf",e.positions),h.Cb(1),h.jc("disabled",!e.form.valid))},directives:[i.l,i.h,i.d,c.b,c.e,f.a,i.a,i.g,i.c,l.a,r.k,a.b,M.h],pipes:[S],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),E);function $(t,e){if(1&t&&h.Pb(0,"img",6),2&t){var n=h.ec().$implicit;h.jc("src",n.pictureUrl,h.pc)}}var A=function(t){return["../detail",t]};function q(t,e){if(1&t&&(h.Ub(0,"mat-grid-tile"),h.Ub(1,"a",3),h.Ub(2,"mat-card",4),h.Ub(3,"mat-card-header"),h.uc(4,$,1,1,"img",5),h.Ub(5,"mat-card-title"),h.vc(6),h.Tb(),h.Ub(7,"mat-card-subtitle"),h.vc(8),h.fc(9,"positionToPrint"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb()),2&t){var n=e.$implicit;h.Cb(1),h.jc("routerLink",h.lc(7,A,n.id)),h.Cb(3),h.jc("ngIf",n.pictureUrl),h.Cb(2),h.yc("",n.lastName," ",n.firstName,""),h.Cb(2),h.wc(h.gc(9,5,n.position))}}var Y,B,G,H=function(){return["../new"]},J=((Y=function(){function t(e){_classCallCheck(this,t),this.staffService=e}return _createClass(t,[{key:"list$",get:function(){return this.staffService.getList()}}]),t}()).\u0275fac=function(t){return new(t||Y)(h.Ob(_))},Y.\u0275cmp=h.Ib({type:Y,selectors:[["app-list"]],decls:6,vars:5,consts:[["mat-icon-button","","aria-label","Example icon-button with a heart icon",3,"routerLink"],["cols","2","gutterSize","1.2rem",1,"list"],[4,"ngFor","ngForOf"],[1,"link",3,"routerLink"],[1,"item"],["mat-card-avatar","",3,"src",4,"ngIf"],["mat-card-avatar","",3,"src"]],template:function(t,e){1&t&&(h.Ub(0,"a",0),h.Ub(1,"mat-icon"),h.vc(2,"person_add"),h.Tb(),h.Tb(),h.Ub(3,"mat-grid-list",1),h.uc(4,q,10,9,"mat-grid-tile",2),h.fc(5,"async"),h.Tb()),2&t&&(h.jc("routerLink",h.kc(4,H)),h.Cb(4),h.jc("ngForOf",h.gc(5,2,e.list$)))},directives:[a.a,p.e,u.a,s.a,r.k,s.c,o.a,o.e,r.l,o.h,o.g,o.c],pipes:[r.b,S],styles:[".list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:100%}"]}),Y),z=[{path:"",component:(B=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),B.\u0275fac=function(t){return new(t||B)},B.\u0275cmp=h.Ib({type:B,selectors:[["app-staff"]],decls:3,vars:0,consts:[[1,"mat-display-1"]],template:function(t,e){1&t&&(h.Ub(0,"h1",0),h.vc(1,"Staff"),h.Tb(),h.Pb(2,"router-outlet"))},directives:[p.g],styles:[""]}),B),children:[{path:"list",component:J},{path:"edit/:uid",component:V},{path:"detail/:uid",component:F},{path:"new",component:V},{path:"",redirectTo:"list",pathMatch:"full"}]}],D=((G=function t(){_classCallCheck(this,t)}).\u0275mod=h.Mb({type:G}),G.\u0275inj=h.Lb({factory:function(t){return new(t||G)},imports:[[r.c,p.f.forChild(z),s.b,o.f,a.c,c.d,f.b,l.b,i.j,u.b]]}),G)}}]);