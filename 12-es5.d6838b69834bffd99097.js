function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{kanD:function(t,e,n){"use strict";n.r(e),n.d(e,"StaffModule",(function(){return J}));var a,i,r=n("2kYt"),o=n("nIj0"),c=n("PBFl"),s=n("Meci"),l=n("29Wa"),b=n("kAAd"),u=n("bFHC"),f=n("Cd2c"),m=n("R7+U"),p=n("Y2X+"),h=n("sEIs"),d=n("s2Ay"),v=n("xVbo"),C=n("YtkY"),g=n("TLy2"),k=n("EM62"),y=n("AytR"),U=n("vobO"),T=((a=function(){function t(e){_classCallCheck(this,t),this.http=e,this.baseUrl=y.a.baseUrl}return _createClass(t,[{key:"getList",value:function(){return this.http.get("".concat(this.baseUrl,"/users"))}},{key:"getOne",value:function(t){return this.http.get("".concat(this.baseUrl,"/users/").concat(t))}},{key:"update",value:function(t,e){return this.http.put("".concat(this.baseUrl,"/users/").concat(t),e)}},{key:"create",value:function(t){return this.http.post("".concat(this.baseUrl,"/users"),t)}}]),t}()).\u0275fac=function(t){return new(t||a)(k.Yb(U.a))},a.\u0275prov=k.Kb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),O=n("kYBX"),_=((i=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return t===O.b.owner?"Owner":t===O.b.manager?"Manager":t===O.b.employee?"Staff":""}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275pipe=k.Nb({name:"positionToPrint",type:i,pure:!0}),i);function P(t,e){if(1&t&&(k.Ub(0,"a",6),k.Ub(1,"mat-icon"),k.Bc(2,"phone"),k.Tb(),k.Bc(3),k.Tb()),2&t){var n=k.gc(2);k.mc("href","tel:"+n.person.phone,k.vc),k.Cb(3),k.Cc(n.person.phone)}}function w(t,e){if(1&t&&(k.Ub(0,"a",7),k.Ub(1,"mat-icon"),k.Bc(2,"email"),k.Tb(),k.Bc(3),k.Tb()),2&t){var n=k.gc(2);k.mc("href","mailto:"+n.person.email,k.vc),k.Cb(3),k.Dc(" ",n.person.email,"")}}var I=function(t){return["../../edit",t]};function B(t,e){if(1&t&&(k.Sb(0),k.Ub(1,"h1",1),k.Bc(2),k.Ub(3,"span",2),k.Bc(4),k.hc(5,"positionToPrint"),k.Tb(),k.Tb(),k.Ub(6,"p"),k.Ac(7,P,4,2,"a",3),k.Ac(8,w,4,2,"a",4),k.Tb(),k.Ub(9,"a",5),k.Ub(10,"mat-icon"),k.Bc(11,"edit"),k.Tb(),k.Bc(12),k.hc(13,"translate"),k.Tb(),k.Rb()),2&t){var n=k.gc();k.Cb(2),k.Ec(" ",null==n.person?null:n.person.lastName," ",null==n.person?null:n.person.firstName," "),k.Cb(2),k.Dc("(",k.ic(5,7,null==n.person?null:n.person.position),")"),k.Cb(3),k.mc("ngIf",null==n.person?null:n.person.phone),k.Cb(1),k.mc("ngIf",null==n.person?null:n.person.email),k.Cb(1),k.mc("routerLink",k.oc(11,I,n.person.id)),k.Cb(3),k.Dc(" ",k.ic(13,9,"misc.edit")," ")}}var S,N=((S=function(){function t(e,n){_classCallCheck(this,t),this.staffService=e,this.activatedRoute=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.params.pipe(Object(v.a)((function(t){return t.uid})),Object(C.a)((function(t){return t.uid})),Object(g.a)((function(e){return t.staffService.getOne(e)}))).subscribe((function(e){return t.person=e}),(function(t){return console.error(t)}))}}]),t}()).\u0275fac=function(t){return new(t||S)(k.Ob(T),k.Ob(h.a))},S.\u0275cmp=k.Ib({type:S,selectors:[["app-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-h1"],[1,"mat-caption"],["mat-flat-button","",3,"href",4,"ngIf"],["mat-flat-button","","target","_blank",3,"href",4,"ngIf"],["mat-flat-button","","color","primary",3,"routerLink"],["mat-flat-button","",3,"href"],["mat-flat-button","","target","_blank",3,"href"]],template:function(t,e){1&t&&k.Ac(0,B,14,13,"ng-container",0),2&t&&k.mc("ngIf",e.person)},directives:[r.m,c.a,h.e,u.a],pipes:[_,d.d],styles:[""]}),S),L=n("mFH5");function M(t,e){if(1&t&&(k.Ub(0,"mat-option",8),k.Bc(1),k.hc(2,"positionToPrint"),k.Tb()),2&t){var n=e.$implicit;k.mc("value",n),k.Cb(1),k.Cc(k.ic(2,2,n))}}var A,j=((A=function(){function t(e,n,a,i){_classCallCheck(this,t),this.staffService=e,this.activatedRoute=n,this.fb=a,this.router=i}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.form=this.fb.group({firstName:["",[o.n.required]],lastName:["",[o.n.required]],position:[O.b.employee,[o.n.required]],phone:[null,[]],email:[null,[o.n.email]]}),this.activatedRoute.params.pipe(Object(v.a)((function(t){return t.uid})),Object(C.a)((function(t){return t.uid})),Object(g.a)((function(e){return t.staffService.getOne(e)}))).subscribe((function(e){t.person=e,t.form.setValue({firstName:e.firstName,lastName:e.lastName,position:e.position,phone:e.phone||null,email:e.email||null})}),(function(t){return console.error(t)}))}},{key:"save",value:function(){var t=this;if(this.form.valid){var e=this.form.value;(this.person?this.staffService.update(this.person.id,e):this.staffService.create(e)).subscribe((function(e){t.router.navigate(["/dash/staff/detail",e.id])}))}}},{key:"positions",get:function(){return[O.b.owner,O.b.manager,O.b.employee]}}]),t}()).\u0275fac=function(t){return new(t||A)(k.Ob(T),k.Ob(h.a),k.Ob(o.b),k.Ob(h.b))},A.\u0275cmp=k.Ib({type:A,selectors:[["app-edit"]],decls:25,vars:6,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","lastName"],["matInput","","formControlName","firstName"],["matInput","","formControlName","phone","type","tel"],["matInput","","formControlName","email","type","email"],["formControlName","position"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(k.Ub(0,"form",0),k.cc("ngSubmit",(function(){return e.save()})),k.Ub(1,"mat-form-field"),k.Ub(2,"mat-label"),k.Bc(3,"Last Name"),k.Tb(),k.Pb(4,"input",1),k.Tb(),k.Ub(5,"mat-form-field"),k.Ub(6,"mat-label"),k.Bc(7,"First Name"),k.Tb(),k.Pb(8,"input",2),k.Tb(),k.Ub(9,"mat-form-field"),k.Ub(10,"mat-label"),k.Bc(11,"Phone"),k.Tb(),k.Pb(12,"input",3),k.Tb(),k.Ub(13,"mat-form-field"),k.Ub(14,"mat-label"),k.Bc(15,"Email"),k.Tb(),k.Pb(16,"input",4),k.Tb(),k.Ub(17,"mat-form-field"),k.Ub(18,"mat-label"),k.Bc(19,"Position"),k.Tb(),k.Ub(20,"mat-select",5),k.Ac(21,M,3,4,"mat-option",6),k.Tb(),k.Tb(),k.Ub(22,"button",7),k.Bc(23),k.hc(24,"translate"),k.Tb(),k.Tb()),2&t&&(k.mc("formGroup",e.form),k.Cb(21),k.mc("ngForOf",e.positions),k.Cb(1),k.mc("disabled",!e.form.valid),k.Cb(1),k.Dc(" ",k.ic(24,4,"misc.save")," "))},directives:[o.o,o.j,o.d,l.c,l.f,f.b,o.a,o.i,o.c,m.a,r.l,c.b,L.l],pipes:[d.d,_],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),A),F=n("HOZh");function $(t,e){if(1&t&&k.Pb(0,"img",6),2&t){var n=k.gc().$implicit;k.mc("src",n.pictureUrl,k.vc)}}var R=function(t){return["../detail",t]};function E(t,e){if(1&t&&(k.Ub(0,"mat-grid-tile"),k.Ub(1,"a",3),k.Ub(2,"mat-card",4),k.Ub(3,"mat-card-header"),k.Ac(4,$,1,1,"img",5),k.Ub(5,"mat-card-title"),k.Bc(6),k.Tb(),k.Ub(7,"mat-card-subtitle"),k.Bc(8),k.hc(9,"positionToPrint"),k.Tb(),k.Tb(),k.Tb(),k.Tb(),k.Tb()),2&t){var n=e.$implicit;k.Cb(1),k.mc("routerLink",k.oc(7,R,n.id)),k.Cb(3),k.mc("ngIf",n.pictureUrl),k.Cb(2),k.Ec("",n.lastName," ",n.firstName,""),k.Cb(2),k.Cc(k.ic(9,5,n.position))}}var X,Y,D,x=function(){return["../new"]},q=((X=function(){function t(e,n){_classCallCheck(this,t),this.staffService=e,this.breakpointObserver=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.breakpointObserver.observe([F.b.XSmall,F.b.Small,F.b.Medium,F.b.Large,F.b.XLarge]).subscribe((function(e){e.matches&&(e.breakpoints[F.b.XSmall]?t.nbColumns=1:e.breakpoints[F.b.Small]?t.nbColumns=2:e.breakpoints[F.b.Medium]?t.nbColumns=3:e.breakpoints[F.b.Large]?t.nbColumns=4:e.breakpoints[F.b.XLarge]&&(t.nbColumns=5))}))}},{key:"list$",get:function(){return this._list$||(this._list$=this.staffService.getList()),this._list$}}]),t}()).\u0275fac=function(t){return new(t||X)(k.Ob(T),k.Ob(F.a))},X.\u0275cmp=k.Ib({type:X,selectors:[["app-list"]],decls:6,vars:6,consts:[["mat-icon-button","","matTooltip","Add Staff","aria-label","Add Staff","color","primary",3,"routerLink"],["gutterSize","1.2rem",1,"list",3,"cols"],[4,"ngFor","ngForOf"],[1,"link",3,"routerLink"],[1,"item"],["mat-card-avatar","",3,"src",4,"ngIf"],["mat-card-avatar","",3,"src"]],template:function(t,e){1&t&&(k.Ub(0,"a",0),k.Ub(1,"mat-icon"),k.Bc(2,"person_add"),k.Tb(),k.Tb(),k.Ub(3,"mat-grid-list",1),k.Ac(4,E,10,9,"mat-grid-tile",2),k.hc(5,"async"),k.Tb()),2&t&&(k.mc("routerLink",k.nc(5,x)),k.Cb(3),k.mc("cols",e.nbColumns),k.Cb(1),k.mc("ngForOf",k.ic(5,3,e.list$)))},directives:[c.a,h.e,p.a,u.a,b.a,r.l,b.c,s.a,s.c,r.m,s.f,s.e,s.b],pipes:[r.b,_],styles:[".list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{width:100%}"]}),X),H=function(){return["/dash/staff"]},G=[{path:"",component:(Y=function t(){_classCallCheck(this,t)},Y.\u0275fac=function(t){return new(t||Y)},Y.\u0275cmp=k.Ib({type:Y,selectors:[["app-staff"]],decls:3,vars:2,consts:[["translate","",1,"mat-display-1",3,"routerLink"]],template:function(t,e){1&t&&(k.Ub(0,"h1",0),k.Bc(1,"Staff"),k.Tb(),k.Pb(2,"router-outlet")),2&t&&k.mc("routerLink",k.nc(1,H))},directives:[d.a,h.c,h.g],styles:[""]}),Y),children:[{path:"list",component:q},{path:"edit/:uid",component:j},{path:"detail/:uid",component:N},{path:"new",component:j},{path:"",redirectTo:"list",pathMatch:"full"}]}],J=((D=function t(){_classCallCheck(this,t)}).\u0275mod=k.Mb({type:D}),D.\u0275inj=k.Lb({factory:function(t){return new(t||D)},imports:[[r.c,h.f.forChild(G),b.b,s.d,c.c,l.e,f.c,m.b,o.m,u.b,p.b,d.c.forChild()]]}),D)}}]);