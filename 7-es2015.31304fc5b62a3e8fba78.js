(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{kanD:function(t,e,n){"use strict";n.r(e),n.d(e,"StaffModule",(function(){return z}));var r=n("2kYt"),i=n("nIj0"),o=n("PBFl"),a=n("Meci"),s=n("29Wa"),c=n("kAAd"),l=n("bFHC"),f=n("Cd2c"),p=n("R7+U"),u=n("sEIs"),m=n("s2Ay"),b=n("xVbo"),d=n("YtkY"),h=n("TLy2"),g=n("EM62"),w=n("ROBh"),v=n("IdLP"),y="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),U=new Uint8Array(16);function O(){if(!y)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y(U)}for(var T=[],k=0;k<256;++k)T[k]=(k+256).toString(16).substr(1);var N=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||O)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;++o)e[r+o]=i[o];return e||function(t,e){var n=0;return[T[t[n++]],T[t[n++]],T[t[n++]],T[t[n++]],"-",T[t[n++]],T[t[n++]],"-",T[t[n++]],T[t[n++]],"-",T[t[n++]],T[t[n++]],"-",T[t[n++]],T[t[n++]],T[t[n++]],T[t[n++]],T[t[n++]],T[t[n++]]].join("")}(i)},C=function(t){return t[t.owner=0]="owner",t[t.manager=1]="manager",t[t.employee=2]="employee",t}({});const S=[{id:"1",firstName:"\ubbfc",lastName:"\uae40",pictureUrl:`https://picsum.photos/200/200?random=${N()}`,position:C.manager},{id:"2",firstName:"\uc11d\ud604",lastName:"\uae40",pictureUrl:`https://picsum.photos/200/200?random=${N()}`,position:C.owner},{id:"3",firstName:"\uc694\ud55c",lastName:"\ub77c\uc9c0\uc560",pictureUrl:`https://picsum.photos/200/200?random=${N()}`,position:C.employee},{id:"4",firstName:"Nicolas",lastName:"Lagier",pictureUrl:`https://picsum.photos/200/200?random=${N()}`,position:C.employee}];let I=(()=>{class t{constructor(){this.staff=[...S]}getList(){return Object(w.a)(this.staff)}getOne(t){return new v.a(e=>{const n=this.staff.find(e=>e.id===t);if(!n)throw new Error(`Person ${t} not Found`);e.next(n)})}patchStaff(t,e){return new v.a(n=>{const r=this.staff.findIndex(e=>e.id===t);if(-1===r)throw new Error("No such staff");this.staff[r]=Object.assign(Object.assign({},this.staff[r]),e),n.next(this.staff[r])})}postStaff(t){return new v.a(e=>{t.id=N(),this.staff.push(t),e.next(t)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),P=(()=>{class t{transform(t){return t===C.owner?"Owner":t===C.manager?"Manager":t===C.employee?"Staff":""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=g.Nb({name:"positionToPrint",type:t,pure:!0}),t})();const j=function(t){return["../../edit",t]};function L(t,e){if(1&t&&(g.Sb(0),g.Ub(1,"h1",1),g.wc(2),g.Ub(3,"span",2),g.wc(4),g.fc(5,"positionToPrint"),g.Tb(),g.Tb(),g.Ub(6,"a",3),g.wc(7,"Edit"),g.Tb(),g.Rb()),2&t){const t=g.ec();g.Cb(2),g.zc(" ",null==t.person?null:t.person.lastName," ",null==t.person?null:t.person.firstName," "),g.Cb(2),g.yc("(",g.gc(5,4,null==t.person?null:t.person.position),")"),g.Cb(2),g.kc("routerLink",g.mc(6,j,t.person.id))}}let R=(()=>{class t{constructor(t,e){this.staffService=t,this.activatedRoute=e}ngOnInit(){this.activatedRoute.params.pipe(Object(b.a)(t=>t.uid),Object(d.a)(t=>t.uid),Object(h.a)(t=>this.staffService.getOne(t))).subscribe(t=>this.person=t,t=>console.error(t))}}return t.\u0275fac=function(e){return new(e||t)(g.Ob(I),g.Ob(u.a))},t.\u0275cmp=g.Ib({type:t,selectors:[["app-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-h1"],[1,"mat-caption"],["mat-flat-button","","color","primary",3,"routerLink"]],template:function(t,e){1&t&&g.vc(0,L,8,8,"ng-container",0),2&t&&g.kc("ngIf",e.person)},directives:[r.l,o.a,u.e],pipes:[P],styles:[""]}),t})();var x=n("mFH5");function F(t,e){if(1&t&&(g.Ub(0,"mat-option",8),g.wc(1),g.fc(2,"positionToPrint"),g.Tb()),2&t){const t=e.$implicit;g.kc("value",t),g.Cb(1),g.xc(g.gc(2,2,t))}}let M=(()=>{class t{constructor(t,e,n,r){this.staffService=t,this.activatedRoute=e,this.fb=n,this.router=r}ngOnInit(){this.form=this.fb.group({firstName:["",[i.k.required]],lastName:["",[i.k.required]],position:[C.employee,[i.k.required]],phone:[null,[]],email:[null,[i.k.email]]}),this.activatedRoute.params.pipe(Object(b.a)(t=>t.uid),Object(d.a)(t=>t.uid),Object(h.a)(t=>this.staffService.getOne(t))).subscribe(t=>{this.person=t,this.form.setValue({firstName:t.firstName,lastName:t.lastName,position:t.position,phone:t.phone||null,email:t.email||null})},t=>console.error(t))}get positions(){return[C.owner,C.employee,C.manager]}save(){if(this.form.valid){const t=this.form.value;let e;e=this.person?this.staffService.patchStaff(this.person.id,t):this.staffService.postStaff(t),e.subscribe(t=>{this.router.navigate(["/staff/detail",t.id])})}}}return t.\u0275fac=function(e){return new(e||t)(g.Ob(I),g.Ob(u.a),g.Ob(i.b),g.Ob(u.b))},t.\u0275cmp=g.Ib({type:t,selectors:[["app-edit"]],decls:24,vars:3,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","lastName"],["matInput","","formControlName","firstName"],["matInput","","formControlName","phone","type","tel"],["matInput","","formControlName","email","type","email"],["formControlName","position"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(g.Ub(0,"form",0),g.cc("ngSubmit",(function(){return e.save()})),g.Ub(1,"mat-form-field"),g.Ub(2,"mat-label"),g.wc(3,"Last Name"),g.Tb(),g.Pb(4,"input",1),g.Tb(),g.Ub(5,"mat-form-field"),g.Ub(6,"mat-label"),g.wc(7,"First Name"),g.Tb(),g.Pb(8,"input",2),g.Tb(),g.Ub(9,"mat-form-field"),g.Ub(10,"mat-label"),g.wc(11,"Phone"),g.Tb(),g.Pb(12,"input",3),g.Tb(),g.Ub(13,"mat-form-field"),g.Ub(14,"mat-label"),g.wc(15,"Email"),g.Tb(),g.Pb(16,"input",4),g.Tb(),g.Ub(17,"mat-form-field"),g.Ub(18,"mat-label"),g.wc(19,"Position"),g.Tb(),g.Ub(20,"mat-select",5),g.vc(21,F,3,4,"mat-option",6),g.Tb(),g.Tb(),g.Ub(22,"button",7),g.wc(23," Save "),g.Tb(),g.Tb()),2&t&&(g.kc("formGroup",e.form),g.Cb(21),g.kc("ngForOf",e.positions),g.Cb(1),g.kc("disabled",!e.form.valid))},directives:[i.l,i.h,i.d,s.b,s.e,f.a,i.a,i.g,i.c,p.a,r.k,o.b,x.h],pipes:[P],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),t})();function $(t,e){if(1&t&&g.Pb(0,"img",6),2&t){const t=g.ec().$implicit;g.kc("src",t.pictureUrl,g.qc)}}const E=function(t){return["../detail",t]};function V(t,e){if(1&t&&(g.Ub(0,"mat-grid-tile"),g.Ub(1,"a",3),g.Ub(2,"mat-card",4),g.Ub(3,"mat-card-header"),g.vc(4,$,1,1,"img",5),g.Ub(5,"mat-card-title"),g.wc(6),g.Tb(),g.Ub(7,"mat-card-subtitle"),g.wc(8),g.fc(9,"positionToPrint"),g.Tb(),g.Tb(),g.Tb(),g.Tb(),g.Tb()),2&t){const t=e.$implicit;g.Cb(1),g.kc("routerLink",g.mc(7,E,t.id)),g.Cb(3),g.kc("ngIf",t.pictureUrl),g.Cb(2),g.zc("",t.lastName," ",t.firstName,""),g.Cb(2),g.xc(g.gc(9,5,t.position))}}const _=function(){return["../new"]};let A=(()=>{class t{constructor(t){this.staffService=t}get list$(){return this.staffService.getList()}}return t.\u0275fac=function(e){return new(e||t)(g.Ob(I))},t.\u0275cmp=g.Ib({type:t,selectors:[["app-list"]],decls:6,vars:5,consts:[["mat-icon-button","","aria-label","Example icon-button with a heart icon",3,"routerLink"],["cols","2","gutterSize","1.2rem",1,"list"],[4,"ngFor","ngForOf"],[1,"link",3,"routerLink"],[1,"item"],["mat-card-avatar","",3,"src",4,"ngIf"],["mat-card-avatar","",3,"src"]],template:function(t,e){1&t&&(g.Ub(0,"a",0),g.Ub(1,"mat-icon"),g.wc(2,"person_add"),g.Tb(),g.Tb(),g.Ub(3,"mat-grid-list",1),g.vc(4,V,10,9,"mat-grid-tile",2),g.fc(5,"async"),g.Tb()),2&t&&(g.kc("routerLink",g.lc(4,_)),g.Cb(4),g.kc("ngForOf",g.gc(5,2,e.list$)))},directives:[o.a,u.e,l.a,c.a,r.k,c.c,a.a,a.e,r.l,a.h,a.g,a.c],pipes:[r.b,P],styles:[".list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:100%}"]}),t})();const q=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=g.Ib({type:t,selectors:[["app-staff"]],decls:3,vars:0,consts:[["translate","",1,"mat-display-1"]],template:function(t,e){1&t&&(g.Ub(0,"h1",0),g.wc(1,"Staff"),g.Tb(),g.Pb(2,"router-outlet"))},directives:[m.a,u.g],styles:[""]}),t})(),children:[{path:"list",component:A},{path:"edit/:uid",component:M},{path:"detail/:uid",component:R},{path:"new",component:M},{path:"",redirectTo:"list",pathMatch:"full"}]}];let z=(()=>{class t{}return t.\u0275mod=g.Mb({type:t}),t.\u0275inj=g.Lb({factory:function(e){return new(e||t)},imports:[[r.c,u.f.forChild(q),c.b,a.f,o.c,s.d,f.b,p.b,i.j,l.b,m.c.forChild()]]}),t})()}}]);